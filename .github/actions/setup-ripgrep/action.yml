name: "setup-ripgrep"
description: "Install ripgrep"
inputs:
  version:
    description: "ripgrep version"
    default: "14.1.1"
    required: false

runs:
  using: "composite"
  steps:
    - name: Install ripgrep
      shell: bash
      env:
        VERSION: ${{ inputs.version }}
      run: |
        curl -L -o ripgrep.tar.gz https://github.com/BurntSushi/ripgrep/releases/download/${VERSION}/ripgrep-${VERSION}-x86_64-unknown-linux-musl.tar.gz
        tar -xzf ripgrep.tar.gz
        sudo mv ripgrep-${VERSION}-x86_64-unknown-linux-musl/rg /usr/local/bin/rg
        sudo chmod +x /usr/local/bin/rg
        rg --version
        rm -rf ripgrep.tar.gz ripgrep-${VERSION}-x86_64-unknown-linux-musl/
