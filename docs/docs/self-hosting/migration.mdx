---
title: Upgrade
---

# How to Upgrade MLflow

MLflow evolves rapidly to provide new features and improve the framework. This document outlines the steps to upgrade self-hosted MLflow servers to the latest version.

## Basic Steps

Upgrading MLflow typically involves the following steps:

1. Stop the server.
2. Upgrade the package version in the environment.
3. Run database migrations (if database backend is used).
4. Restart the server.

:::info

For releases where all pending migrations are safe (additive), MLflow supports zero-downtime upgrades. See [Zero-Downtime Upgrades](#zero-downtime-upgrades) below.

:::

## Migrating the database

If you are using a database-backend store, run the following command to apply schema migrations before restarting the server.

```bash
mlflow db upgrade <backend-store-url>
```

The command will update the database schema to the latest version using [Alembic](https://alembic.sqlalchemy.org/).

:::warning important

Schema migrations can be slow and are not guaranteed to be transactional. Always take a backup of the database before running the migration.

:::

## Zero-Downtime Upgrades

MLflow can classify pending database migrations by their safety level, enabling zero-downtime upgrades when all pending migrations are additive (new tables, nullable columns, indexes).

### Checking migration safety

Before upgrading, check whether pending migrations are safe:

```bash
mlflow db check-upgrade <backend-store-url>
```

The command classifies each pending migration as:

- **SAFE**: Additive changes (new tables, indexes, nullable columns). Zero-downtime upgrade is possible.
- **CAUTIOUS**: Changes that may need review (type changes, constraint modifications). Consider testing first.
- **BREAKING**: Changes that require downtime (column renames, drops, data migrations).

Exit codes: `0` = all safe, `1` = cautious, `2` = breaking. Use `--json` for machine-readable output in CI pipelines.

### Upgrade workflow

**When all migrations are safe (exit code 0):**

1. Deploy new server instances (MLflow auto-detects safe pending migrations and starts normally).
2. Run `mlflow db upgrade <backend-store-url>` from a separate process or job.
3. Done. No downtime required.

**When breaking migrations are present (exit code 2):**

Use the traditional workflow: stop the server, run migrations, restart.

### Manual override

If you need to bypass the schema check regardless of migration safety, set the `MLFLOW_ALLOW_SCHEMA_MISMATCH` environment variable:

```bash
export MLFLOW_ALLOW_SCHEMA_MISMATCH=true
```

This causes schema mismatches to produce a warning instead of a fatal error. Use with caution, as running against a schema missing breaking changes may cause runtime errors.

## Semantic versioning

MLflow uses [semantic versioning](https://semver.org/) to manage versions and provide clear risk level for users when upgrading MLflow. More specifically, we use the following rules:

The following changes requires a **major version bump**:

- Architecture changes
- Removal of [Public APIs](https://mlflow.org/docs/latest/api_reference/python_api/index.html), except those explicitly declared as experimental.
- Removal/renaming of existing parameters from Public APIs in the breaking manner.

The following changes **do not require a major version bump** and released within a minor version update:

- Database schema changes.
- Adding new APIs.
- Adding new optional parameters to Public APIs.
- Removing experimental APIs or removing/renaming parameters of them.

## Compatibility between MLflow SDK and the Server

MLflow SDK and the server works best if they are in the same version. However, in practice, you may need to deal with a mismatch between the client and server versions. MLflow offers best-effort compatibility between the SDK and the server.

- MLflow tracking server works with the **older** version of the SDK, up to one major version difference (e.g., 2.x to 3.x).
- MLflow tracking server may not work with the **newer** version of the SDK.

For example, you can use MLflow 2.x client SDK to log models to the MLflow 3.x server, because the server is backward compatible. On the other hand, if you upgrade the client SDK to 2.15 to use MLflow Tracing, the server also needs to be newer than 2.15, otherwise the tracing endpoints do not exist.

When making any breaking change, we issue deprecation warning for a few minor versions before the actual change, and announce them in the [release notes](https://github.com/mlflow/mlflow/releases).

## Support

If you are facing any issues during the upgrade, contact to the MLflow team by opening an issue on [GitHub](https://github.com/mlflow/mlflow/issues/new/choose).
