---
title: Track Application Versions with MLflow
description: Learn how to version GenAI applications using MLflow LoggedModel as a metadata hub, linking external code with traces and evaluations via mlflow.set_active_model().
---

import FeatureHighlights from "@site/src/components/FeatureHighlights";
import ConceptOverview from "@site/src/components/ConceptOverview";
import TilesGrid from "@site/src/components/TilesGrid";
import TileCard from "@site/src/components/TileCard";
import { APILink } from "@site/src/components/APILink";
import { GitBranch, Code2, Database, Settings, Eye, Target, Zap, BarChart3, PlayCircle, TrendingUp } from "lucide-react";

# Track Application Versions with External Code Management

The production-ready approach to GenAI versioning: use MLflow's **<APILink fn="mlflow.entities.LoggedModel">LoggedModel</APILink>** as a metadata hub that links your application versions to traces, evaluations, and configurations. Perfect for teams that want systematic version control without vendor lock-in.

## Why This Approach Works for Production Teams

<FeatureHighlights features={[
  {
    icon: GitBranch,
    title: "Keep Code Where It Belongs",
    description: "Your application code stays in your development environment. MLflow tracks metadata and configurationsâ€”no code duplication or vendor lock-in."
  },
  {
    icon: Database,
    title: "Automatic Context Linking",
    description: "Set an active model once, then every trace and evaluation automatically links to that version. No manual bookkeeping across your development workflow."
  },
  {
    icon: Eye,
    title: "Complete Version Visibility",
    description: "See exactly which code, configurations, and performance data belong to each version. Debug issues and reproduce results with complete confidence."
  },
  {
    icon: Target,
    title: "Production-Ready Patterns",
    description: "Designed for real development workflows with git, CI/CD, and team collaboration. Scale from individual experimentation to enterprise deployment."
  }
]} />

## How MLflow LoggedModel Works as a Metadata Hub

MLflow's LoggedModel acts as a central registry that connects your application code to its runtime behavior. Rather than storing code directly, it maintains references to external code repositories while capturing all the metadata, traces, and evaluation results generated during development and production use.

<ConceptOverview concepts={[
  {
    icon: Code2,
    title: "External Code References",
    description: "LoggedModel stores version identifiers and configuration parameters, pointing to your externally managed code rather than duplicating it."
  },
  {
    icon: Settings,
    title: "Active Model Context",
    description: "mlflow.set_active_model() establishes version context so subsequent traces and evaluations automatically link to the correct application version."
  },
  {
    icon: Database,
    title: "Unified Metadata Hub",
    description: "Each LoggedModel version becomes a central reference linking code commits, configurations, traces, and evaluation results in one versioned entity."
  }
]} />

## Prerequisites

Before getting started, ensure you have:

```bash
pip install --upgrade "mlflow>=3.1" openai
```

Set your OpenAI API key:

```bash
export OPENAI_API_KEY="your-api-key-here"
```

## Basic Version Tracking Example

Here's a complete example showing how to version your GenAI application and link traces to specific versions:

```python
import mlflow
import openai
from datetime import datetime

# Setup
mlflow.set_experiment("genai_app_versions")
mlflow.openai.autolog()  # Enable automatic tracing

# Create a versioned application
version = f"v1.0-{datetime.now().strftime('%H%M')}"
active_model = mlflow.set_active_model(name=f"support_agent-{version}")

# Log configuration for this version
config = {
    "model": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 150,
    "system_prompt_version": "v1",
}
mlflow.log_model_params(model_id=active_model.model_id, params=config)


# Your application code
def support_agent(query):
    """Customer support agent - traces automatically link to active version."""
    client = openai.OpenAI()
    response = client.chat.completions.create(
        model="gpt-4o-mini",
        messages=[
            {"role": "system", "content": "You are a helpful support agent."},
            {"role": "user", "content": query},
        ],
        temperature=0.7,
        max_tokens=150,
    )
    return response.choices[0].message.content


# Test your versioned application
print(f"âœ… Testing version: {active_model.name}")
response = support_agent("How do I reset my password?")
print(f"Response: {response}")
print("âœ… Trace automatically linked to version")

# View version information
logged_model = mlflow.get_logged_model(model_id=active_model.model_id)
print(f"\nðŸ“Š Version Details:")
print(f"  - Model ID: {logged_model.model_id}")
print(f"  - Configuration: {logged_model.params}")
```

### What This Gives You

This simple versioning pattern unlocks powerful capabilities for your GenAI development workflow:

<ConceptOverview concepts={[
  {
    icon: Zap,
    title: "Automatic Trace Linking",
    description: "Every LLM call generates a trace linked to your version without any manual intervention."
  },
  {
    icon: Settings,
    title: "Configuration Tracking",
    description: "Model parameters and settings are versioned alongside traces for complete reproducibility."
  },
  {
    icon: BarChart3,
    title: "Easy Comparison",
    description: "Search and compare performance across different versions with built-in MLflow APIs."
  },
  {
    icon: Target,
    title: "No Manual Bookkeeping",
    description: "Set the active model once, everything else is automatic - no tracking spreadsheets or manual logging."
  }
]} />

## Advanced Patterns

### Testing Multiple Versions

Use context managers to test different configurations:

```python
# Test an experimental version
with mlflow.set_active_model(name="support_agent-v1.1-experiment") as test_model:
    # Log experimental config
    mlflow.log_model_params(
        model_id=test_model.model_id, params={"temperature": 0.3, "max_tokens": 100}
    )

    # Test experimental version
    response = support_agent("What are your business hours?")
    # This trace links to the experimental version

# Automatically returns to original version context
```

### Compare Version Performance

Find and analyze different versions:

```python
# Search for all versions of your application
versions = mlflow.search_logged_models(
    filter_string="name LIKE 'support_agent%'",
    order_by=["creation_timestamp DESC"],
    output_format="list",
)

print("ðŸ“Š Recent Application Versions:")
for v in versions[:5]:
    print(f"  - {v.name}: {v.params.get('temperature', 'N/A')} temp")
```

## Key Benefits

This versioning approach provides complete lifecycle management for your GenAI applications:

<ConceptOverview concepts={[
  {
    icon: Eye,
    title: "Complete Observability",
    description: "Every trace is automatically linked to the exact version that generated it, providing full visibility into your application's behavior."
  },
  {
    icon: Target,
    title: "Easy Debugging",
    description: "Quickly identify which version produced specific behaviors or errors by searching traces linked to each version."
  },
  {
    icon: TrendingUp,
    title: "Performance Tracking",
    description: "Compare latency, quality, and other metrics across versions to make data-driven deployment decisions."
  },
  {
    icon: Zap,
    title: "Minimal Overhead",
    description: "Just set the active model once - no manual bookkeeping, no complex setup, no tracking spreadsheets."
  }
]} />

## Next Steps

<TilesGrid>
  <TileCard
    href="/genai/prompt-version-mgmt/version-tracking/compare-app-versions"
    title="Compare App Versions"
    description="Learn how to analyze performance differences between versions using trace-based comparison"
    icon={BarChart3}
  />
  <TileCard
    href="/genai/prompt-version-mgmt/version-tracking/quickstart"
    title="Version Tracking Quickstart"
    description="Get started quickly with a hands-on guide to version tracking in MLflow"
    icon={PlayCircle}
  />
</TilesGrid>
