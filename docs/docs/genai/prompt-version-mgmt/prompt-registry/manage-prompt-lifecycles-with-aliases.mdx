---
title: Manage Prompt Lifecycles
description: Discover how to use aliases in the MLflow Prompt Registry to manage the lifecycle of your prompts, from development to production, and for implementing governance.
---

import { APILink } from "@site/src/components/APILink";
import { Card, CardGroup, SmallLogoCard } from "@site/src/components/Card";
import TOCInline from "@theme/TOCInline";
import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# Manage Prompt Lifecycles

Managing changes of prompts is crucial for maintaining quality, improving performance, and ensuring consistency across different environments. This page provides a comprehensive guide to change management in MLflow Prompt Registry.

![Aliases List](/images/llms/prompt-registry/prompt-aliases-list.png)

## Commit-based Versioning

The design of the prompt registry is inspired by version control systems like Git.

- **ü™® Immutable versions**: Once created, a prompt version cannot be modified. This ensures that the prompt's behavior remains consistent across different applications and experiments.
- **‚úâÔ∏è Commit message**: When creating a new prompt version, you can provide a commit message to document the changes made in the new version. This helps you and your team understand the context of the changes and track the evolution of the prompt over time.
- **üîç Difference view**: The MLflow UI provides a side-by-side comparison of prompt versions, highlighting the changes between versions. This makes it easy to understand the differences and track the evolution of the prompt.

:::tip Why not use Git?

Hard-coding prompt text in source code is indeed a common practice, but it has several limitations. A GenAI application or project often contains multiple prompts for different components/tasks, as well as all software artifacts. Tracking the change of a single prompt with a monotonic Git tree is challenging.

:::

## Compare Prompt Versions

MLflow Prompt Registry UI provides a side-by-side comparison of prompt versions, highlighting the changes between versions. To compare prompt versions in the MLflow UI, click on the **Compare** tab in the prompt details page and select the versions you want to compare.

<div style={{ width: "90%", margin: "10px" }}>
  ![Compare Prompt Versions](/images/llms/prompt-registry/compare-prompt-versions.png)
</div>

## Aliases

Alias is a strong mechanism to managing prompt versions in production systems, without hardcoding version numbers in the application code. You can create an alias for a specific version of a prompt using either the MLflow UI or Python API.

The common use case for aliases is to build a robust **deployment pipeline** for your GenAI applications. For example, you can
set a stage name such as `beta`, `staging`, `production`, etc., to refer to the version used in that environment. By switching the alias to a different version, you can easily maintain multiple prompt versions for different environments and perform tasks such as
roll-back A/B testing.

### Create an Alias

<Tabs>
  <TabItem value="ui" label="UI" default>
    <div class="flex-column">
      <div style={{ width: "70%", margin: "20px" }}>
        ![Create Prompt Alias](/images/llms/prompt-registry/create-prompt-alias.png)
      </div>

      1. Open the existing prompt version in the MLflow UI.
      2. Click on the **Add** button next to the **Aliases** section.
      3. Choose an existing alias or create a new one by entering the alias name.
      4. Click **Save aliases** to apply the changes.

    </div>

  </TabItem>
  <TabItem value="python" label="Python" default>
    <div class="flex-column">
      ```python
      # Set a production alias for a specific version
      mlflow.set_prompt_alias("summarization-prompt", alias="production", version=2)
      ```
    </div>
  </TabItem>
</Tabs>

Attached aliases can be viewed in the prompt list page. You can click the pencil icon to edit or delete an alias directly from the list view.

### Load a Prompt using an Alias

To load a prompt using an alias, use the `prompts:/<prompt_name>@<alias>` format as the prompt URI:

<<<<<<< HEAD
- **Archiving with Aliases**: You can use aliases like `archived_v1` or `deprecated_2023` to signify that a version is no longer in active use but is kept for historical record.
- **Deleting Specific Prompt Versions**: If a prompt version is deemed unnecessary or problematic and should not be used at all (even by accident), you can delete specific versions using `delete_prompt_version()` through the Python SDK. _Use this with caution, as version deletion is a permanent action and might break lineage if not managed carefully._

  ```python
  # Delete a prompt
  client = mlflow.MlflowClient()
  client.delete_prompt_version(name=prompt_name, version=version_to_delete)
  ```

  Generally, you cannot delete a prompt version that an alias currently points to. You would need to move or delete the alias first.

## Key Takeaways

- Aliases are fundamental for managing prompt lifecycles (e.g., `dev`, `staging`, `production`).
- MLflow provides UI and SDK (`MlflowClient`) capabilities for creating, updating, and deleting aliases.
- Establishing governance policies for alias management, promotion processes, and access control is crucial for maintainability.
- Use aliases for archiving and be cautious with the permanent deletion of specific prompt versions (`mlflow.delete_prompt()`).

## Prerequisites

- An established MLflow Prompt Registry with multiple prompts and versions.
- Familiarity with the concept of aliases from previous pages.
- (For SDK examples) MLflow Python client installed and configured.

Effective use of aliases for lifecycle management ensures that your team can confidently develop, test, and deploy prompts while maintaining control and visibility across all stages.
=======
```python
prompt = mlflow.load_prompt("prompts:/summarization-prompt@production")
```
>>>>>>> v3.1.4
