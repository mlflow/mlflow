import type { SidebarsConfig } from "@docusaurus/plugin-content-docs";
import { apiReferencePrefix } from "./docusaurusConfigUtils";

/**
 * Creating a sidebar enables you to:
 - create an ordered group of docs
 - render a sidebar for each doc of that group
 - provide next/previous navigation

 The sidebars can be generated from the filesystem, or explicitly defined here.

 Create as many sidebars as you want.
 */
const sidebars: SidebarsConfig = {
  // By default, Docusaurus generates a sidebar from the docs folder structure
  docsSidebar: [
    {
      type: 'doc',
      id: 'index',
      className: 'sidebar-top-level-category',
    },
    {
      type: 'category',
      label: 'Getting Started',
      className: 'sidebar-top-level-category',
      items: [
        {
          type: 'doc',
          id: 'getting-started/intro-quickstart/index',
          label: 'Quickstart',
        },
        {
          type: 'doc',
          id: 'introduction/index',
          label: 'Introduction',
        },
        {
          type: 'doc',
          id: 'getting-started/running-notebooks/index',
        },
        {
          type: 'doc',
          id: 'getting-started/databricks-trial/index',
        },
        {
          type: 'category',
          label: 'More Tutorials',
          items: [
            {
              type: 'doc',
              label: 'Hyperparameter Tuning Tutorial',
              id: 'getting-started/quickstart-2/index',
            },
            {
              type: 'category',
              label: 'Model Registry Tutorial',
              items: [
                {
                  type: 'autogenerated',
                  dirName: 'getting-started/registering-first-model',
                }
              ]
            },
            {
              type: 'doc',
              id: 'getting-started/tracking-server-overview/index',
            }
          ]
        }
      ],
      link: {
        type: 'doc',
        id: 'getting-started/index',
      }
    },
    {
      type: 'category',
      label: 'Machine Learning 🧠',
      className: 'sidebar-top-level-category',
      collapsed: false,
      items: [
        {
          type: 'category',
          label: 'Deep Learning',
          items: [
            {
              type: 'autogenerated',
              dirName: 'deep-learning',
            },
          ],
          link: {
            type: 'doc',
            id: 'deep-learning/index',
          }
        },
        {
          type: 'category',
          label: 'Traditional ML',
          items: [
            {
              type: 'autogenerated',
              dirName: 'traditional-ml',
            },
          ],
          link: {
            type: 'doc',
            id: 'traditional-ml/index',
          }
        },
      ],
    },
    {
      type: 'category',
      label: 'Build 🔨 ',
      className: 'sidebar-top-level-category',
      collapsed: false,
      items: [
        {
          type: 'category',
          label: 'MLflow Tracking',
          items: [
            {
              type: 'doc',
              id: 'tracking/index',
            },
            /* Using link instead of doc to avoid duplicated select state in sidebar */
            {
              type: 'link',
              href: '/getting-started/intro-quickstart/',
              label: 'Quickstart',
            },
            {
              type: 'doc',
              id: 'tracking/autolog/index',
            },
            {
              type: 'category',
              label: 'Tracking Server',
              items: [
                {
                  type: 'doc',
                  id: 'tracking/artifacts-stores/index',
                },
                {
                  type: 'doc',
                  id: 'tracking/backend-stores/index',
                },
                {
                  type: 'category',
                  label: 'Tutorials',
                  items: [
                    {
                      type: 'autogenerated',
                      dirName: 'tracking/tutorials',
                    }
                  ],
                }
              ],
              link: {
                type: 'doc',
                id: 'tracking/server/index',
              }
            },
            {
              type: 'category',
              label: 'Searching Runs & Experiments',
              items: [
                {
                  type: 'doc',
                  id: 'search-runs/index',
                },
                {
                  type: 'doc',
                  id: 'search-experiments/index',
                }
              ]
            },
            {
              type: 'doc',
              id: 'system-metrics/index',
            }
          ],
          link: {
            type: 'doc',
            id: 'tracking/index',
          },
        },
        {
          type: 'category',
          label: 'MLflow Model',
          items: [
            {
              type: 'autogenerated',
              dirName: 'model',
            },
          ],
        },
        {
          type: 'doc',
          id: 'recipes/index'
        }
      ]
    },
    {
      type: 'category',
      label: 'Evaluate & Monitor 📊',
      className: 'sidebar-top-level-category',
      collapsed: false,
      items: [
        {
          type: 'doc',
          id: 'model-evaluation/index',
          label: 'MLflow Evaluation',
        },
        {
          type: 'category',
          label: 'MLflow Tracing (Observability)',
          items: [
            {
              type: 'autogenerated',
              dirName: 'tracing',
            },
          ],
          link: {
            type: 'doc',
            id: 'tracing/index',
          }
        },
        {
          type: 'doc',
          id: 'dataset/index',
          label: 'MLflow Dataset',
        },
      ]
    },
    {
      type: 'category',
      label: 'Deploy 🚀',
      className: 'sidebar-top-level-category',
      collapsed: false,
      items: [
        {
          type: 'doc',
          id: 'model-registry/index',
        },
        {
          type: 'category',
          label: 'MLflow Serving',
          items: [
            {
              type: 'autogenerated',
              dirName: 'deployment',
            }
          ]
        },
        {
          type: 'category',
          label: 'MLflow AI Gateway',
          link: {
            type: 'doc',
            id: 'llms/deployments/index',
          },
          items: [
            {
              type: 'autogenerated',
              dirName: 'llms/deployments',
            }
          ],
        },
      ]
    },
    {
      type: 'category',
      label: 'Team Collaboration 👥',
      className: 'sidebar-top-level-category',
      collapsed: true,
      items: [
        {
          type: 'link',
          href: '/tracking/#tracking-setup',
          label: 'Self-Hosting'
        },
        {
          type: 'link',
          href: '/#running-mlflow-anywhere',
          label: 'Managed Services'
        },
        {
          type: 'doc',
          id: 'auth/index',
          label: 'Access Control',
        },
        {
          type: 'doc',
          id: 'projects/index',
          label: 'MLflow Projects',
        },
      ]
    },
    {
      type: 'category',
      label: 'API References',
      className: 'sidebar-top-level-category',
      collapsed: true,
      items: [
        {
          type: 'link',
          label: 'Python API',
          href: `${apiReferencePrefix()}api_reference/python_api/index.html`,
        },
        {
          type: 'link',
          label: 'Java API',
          href: `${apiReferencePrefix()}api_reference/java_api/index.html`,
        },
        {
          type: 'link',
          label: 'R API',
          href: `${apiReferencePrefix()}api_reference/R-api.html`,
        },
        {
          type: 'link',
          label: 'REST API',
          href: `${apiReferencePrefix()}api_reference/rest-api.html`,
        },
        {
          type: 'link',
          label: 'CLI',
          href: `${apiReferencePrefix()}cli.html`,
        }
      ]
    },
    {
      type: 'category',
      label: 'More',
      collapsed: true,
      className:'sidebar-top-level-category',
      items: [
        {
          type: 'link',
          label: 'Contributing',
          href: 'https://github.com/mlflow/mlflow/blob/master/CONTRIBUTING.md',
        },
        {
          type: 'link',
          label: 'MLflow Blogs',
          href: 'https://mlflow.org/blog/index.html',
        },
        {
          type: 'doc',
          id: 'plugins/index',
        },
      ]
    },
  ],
  genaiSidebar: [
    {
      type: 'doc',
      id: 'llms/index',
      label: 'Overview',
      className: 'sidebar-top-level-category',
    },
    {
      type: 'doc',
      id: 'llms/eval-workflow',
      label: '👉 Developer workflow',
      className: 'sidebar-top-level-category',
    },
    {
      type: 'category',
      label: 'Getting Started 🚀',
      className: 'sidebar-top-level-category',
      items: [
        {
          type: 'autogenerated',
          dirName: 'llms/getting-started',
        },
      ],
      link: {
        type: 'doc',
        id: 'llms/getting-started/index',
      }
    },
    
    {
      type: 'category',
      label: 'Tutorials 🎓',
      className: 'sidebar-top-level-category',
      link: {
        type: 'doc',
        id: 'llms/tutorials/index',
      },
      items: [
        {
          type: 'autogenerated',
          dirName: 'llms/tutorials',
        },
      ],
    },
    {
      type: 'category',
      label: 'Tracing (Observability) 🔎',
      className: 'sidebar-top-level-category',
      collapsed: false,
      items: [
        {
          type: 'autogenerated',
          dirName: 'llms/tracing',
        },
      ],
      link: {
        type: 'doc',
        id: 'llms/tracing/overview/index',
      }
    },
    
    
    {
      type: 'category',
      label: 'Evaluate & Monitor 📊',
      className: 'sidebar-top-level-category',
      collapsed: false,
      link: {
        type: 'doc',
        id: 'llms/evaluate-monitor/index',
      },
      items: [
        {
          type: 'autogenerated',
          dirName: 'llms/evaluate-monitor',
        },
      ],
    },
    {
      type: 'category',
      label: 'Human Feedback 📝',
      className: 'sidebar-top-level-category',
      collapsed: false,
      link: {
        type: 'doc',
        id: 'llms/human-feedback/index',
      },
      items: [
        {
          type: 'autogenerated',
          dirName: 'llms/human-feedback',
        },
      ],
    },
    {
      type: 'category',
      label: 'Build 🔨 ',
      className: 'sidebar-top-level-category',
      collapsed: false,
      items: [
        {
          type: 'category',
          label: 'Version Tracking',
          items: [
            {
              type: 'doc',
              id: 'llms/versions/index',
            },
            
          ],
          link: {
            type: 'doc',
            id: 'llms/versions/index',
          },
        },
        {
          type: 'category',
          label: 'Prompt Registry',
          items: [
            {
              type: 'doc',
              label: 'Overview',
              id: 'llms/prompts/index',
            },
            {
              type: 'doc',
              id: 'llms/prompts/cm',
            },
            {
              type: 'doc',
              id: 'llms/prompts/evaluate',
            },
            {
              type: 'doc',
              id: 'llms/prompts/run-and-model',
            },
            {
              type: 'doc',
              id: 'llms/prompt-engineering/index',
            }
          ],
          link: {
            type: 'doc',
            id: 'llms/prompts/index',
          },
        },
      
      ]
    },
    
    {
      type: 'category',
      label: 'Concepts 🧩',
      className: 'sidebar-top-level-category',
      link: {
        type: 'doc',
        id: 'llms/concepts/index',
      },
      items: [
        {
          type: 'autogenerated',
          dirName: 'llms/concepts',
        },
      ],
    },
    {
      type: 'category',
      label: 'API Reference 📚',
      className: 'sidebar-top-level-category',
      collapsed: true,
      items: [
        {
          type: 'link',
          label: 'Python API',
          href: `${apiReferencePrefix()}api_reference/python_api/index.html`,
        },
        {
          type: 'link',
          label: 'Java API',
          href: `${apiReferencePrefix()}api_reference/java_api/index.html`,
        },
        {
          type: 'link',
          label: 'R API',
          href: `${apiReferencePrefix()}api_reference/R-api.html`,
        },
        {
          type: 'link',
          label: 'REST API',
          href: `${apiReferencePrefix()}api_reference/rest-api.html`,
        },
        {
          type: 'link',
          label: 'CLI',
          href: `${apiReferencePrefix()}cli.html`,
        }
      ]
    },
    {
      type: 'category',
      label: 'More',
      collapsed: true,
      className:'sidebar-top-level-category',
      items: [
        {
          type: 'link',
          label: 'Contributing',
          href: 'https://github.com/mlflow/mlflow/blob/master/CONTRIBUTING.md',
        },
        {
          type: 'link',
          label: 'MLflow Blogs',
          href: 'https://mlflow.org/blog/index.html',
        },
        {
          type: 'doc',
          id: 'plugins/index',
        },
      ]
    },
  ]
};

export default sidebars;
