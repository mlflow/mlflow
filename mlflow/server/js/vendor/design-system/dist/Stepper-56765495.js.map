{"version":3,"file":"Stepper-56765495.js","sources":["../src/development/Stepper/Stepper.tsx"],"sourcesContent":["import type { SerializedStyles } from '@emotion/react';\nimport { css } from '@emotion/react';\nimport { isUndefined } from 'lodash';\nimport { useState, type PropsWithChildren, useRef, useEffect } from 'react';\n\nimport { CheckIcon, DangerIcon, LoadingIcon, Typography, WarningIcon, useDesignSystemTheme } from '../../design-system';\nimport { addDebugOutlineIfEnabled } from '../../design-system/utils/debug';\nimport type { Theme } from '../../theme';\nimport { DEFAULT_SPACING_UNIT } from '../../theme/spacing';\n\nexport interface Step {\n  /**\n   * Title of the step\n   */\n  title: React.ReactNode;\n\n  /**\n   * Optional description of the step\n   */\n  description?: React.ReactNode;\n\n  /**\n   * Status of the step. This will change the icon and text color of the step.\n   *\n   * @default 'upcoming'\n   */\n  status?: 'completed' | 'loading' | 'upcoming' | 'error' | 'warning';\n\n  /**\n   * Custom icon to display in the step. If provided, the `icon` prop will be used instead of the default icon.\n   */\n  icon?: React.ComponentType<{ statusColor: string; status: Step['status'] }>;\n\n  /**\n   * Additional content displayed beneath the step description a vertical stepper\n   *\n   * This can be used to create a vertical wizard\n   */\n  additionalVerticalContent?: React.ReactNode;\n\n  /**\n   * If true, the step can be clicked and the `onStepClicked` callback will be called\n   */\n  clickEnabled?: boolean;\n}\n\nexport interface StepperProps {\n  /**\n   * List of ordered steps in the stepper\n   */\n  steps: Step[];\n\n  /**\n   * Function to localize the step number; workaround for no react-intl support within dubois\n   *\n   * ex) localizeStepNumber={intl.formatNumber}\n   */\n  localizeStepNumber: (stepIndex: number) => string;\n\n  /**\n   * Direction of the stepper\n   *\n   * @default horizontal\n   */\n  direction?: 'horizontal' | 'vertical';\n\n  /**\n   * Current active step from the `steps` property (zero-indexed)\n   *\n   * @default 0\n   */\n  currentStepIndex?: number;\n\n  /**\n   * If true, and the stepper has a horizontal direction the stepper will be updated to be vertical if width is less than 532px.\n   * Set this value to false to opt out of the responsive behavior.\n   *\n   * @default true\n   */\n  responsive?: boolean;\n\n  /**\n   * Callback when a step is clicked for steps with `clickEnabled` set to true\n   *\n   * @default 'undefined'\n   */\n  onStepClicked?: (stepIndex: number) => void;\n}\n\nexport function Stepper({\n  direction: requestedDirection,\n  currentStepIndex: currentStep,\n  steps,\n  localizeStepNumber,\n  responsive = true,\n  onStepClicked,\n}: StepperProps) {\n  const { theme } = useDesignSystemTheme();\n  const ref = useRef<HTMLOListElement>(null);\n  const { direction } = useResponsiveDirection({ ref, requestedDirection, responsive, enabled: steps.length > 0 });\n\n  if (steps.length === 0) {\n    return null;\n  }\n\n  const isHorizontal = direction === 'horizontal';\n  const currentStepIndex = currentStep ? Math.min(steps.length - 1, Math.max(0, currentStep)) : 0;\n\n  return (\n    <ol {...addDebugOutlineIfEnabled()} css={css(getStepsStyle(theme, isHorizontal))} ref={ref}>\n      {steps.map((step, index) => {\n        const isCurrentStep = index === currentStepIndex;\n        const isLastStep = index === steps.length - 1;\n        const displayEndingDivider = !isLastStep;\n        const contentTitleLevel = 4;\n        const StepIcon = step.icon;\n        const clickEnabled = step.clickEnabled && onStepClicked;\n        const {\n          icon,\n          iconBackgroundColor,\n          iconTextColor,\n          titleTextColor,\n          titleAsParagraph,\n          descriptionTextColor,\n          hasStepItemIconBorder,\n          stepItemIconBorderColor,\n        } = getStepContentStyleFields(theme, isCurrentStep, step.status, StepIcon, step.additionalVerticalContent);\n\n        return (\n          <li\n            aria-current={isCurrentStep}\n            key={index}\n            css={css(getStepItemStyle(theme, isHorizontal, isLastStep))}\n            {...(step.status === 'error' && { 'data-error': true })}\n            {...(step.status === 'loading' && { 'data-loading': true })}\n          >\n            <StepContentGrid isHorizontal={isHorizontal}>\n              <div\n                css={css(\n                  getStepItemIconParentStyle(\n                    theme,\n                    iconBackgroundColor,\n                    hasStepItemIconBorder,\n                    stepItemIconBorderColor,\n                    Boolean(clickEnabled),\n                  ),\n                )}\n                onClick={clickEnabled ? () => onStepClicked(index) : undefined}\n              >\n                {StepIcon ? (\n                  <StepIcon statusColor={iconTextColor} status={step.status} />\n                ) : icon ? (\n                  <span css={{ color: iconTextColor, display: 'flex' }}>{icon}</span>\n                ) : (\n                  <Typography.Title\n                    level={contentTitleLevel}\n                    css={{ color: `${iconTextColor} !important` }}\n                    withoutMargins\n                  >\n                    {localizeStepNumber(index + 1)}\n                  </Typography.Title>\n                )}\n              </div>\n              <span\n                onClick={clickEnabled ? () => onStepClicked(index) : undefined}\n                onKeyDown={(event) => {\n                  if (event.key === 'Enter' && clickEnabled) {\n                    onStepClicked(index);\n                  }\n                }}\n                css={{ cursor: clickEnabled ? 'pointer' : undefined }}\n                tabIndex={clickEnabled ? 0 : undefined}\n                role={clickEnabled ? 'button' : undefined}\n              >\n                {titleAsParagraph ? (\n                  <Typography.Text withoutMargins css={{ flexShrink: 0, color: `${titleTextColor} !important` }}>\n                    {step.title}\n                  </Typography.Text>\n                ) : (\n                  <Typography.Title\n                    level={4}\n                    withoutMargins\n                    css={{ flexShrink: 0, color: `${titleTextColor} !important` }}\n                  >\n                    {step.title}\n                  </Typography.Title>\n                )}\n              </span>\n              {displayEndingDivider && (\n                <div css={css(getStepEndingDividerStyles(theme, isHorizontal, step.status === 'completed'))} />\n              )}\n              {(step.description || (step.additionalVerticalContent && !isHorizontal)) && (\n                <div css={css(getStepDescriptionStyles(theme, isHorizontal, isLastStep, descriptionTextColor))}>\n                  {step.description && (\n                    <Typography.Text\n                      css={css(getStepDescriptionTextStyles(descriptionTextColor))}\n                      withoutMargins\n                      size=\"sm\"\n                    >\n                      {step.description}\n                    </Typography.Text>\n                  )}\n                  {step.additionalVerticalContent && !isHorizontal && (\n                    <div css={css(getAdditionalVerticalStepContentStyles(theme, Boolean(step.description)))}>\n                      {step.additionalVerticalContent}\n                    </div>\n                  )}\n                </div>\n              )}\n            </StepContentGrid>\n          </li>\n        );\n      })}\n    </ol>\n  );\n}\n\nfunction getStepsStyle(theme: Theme, isHorizontal: boolean): SerializedStyles {\n  return css({\n    listStyle: 'none',\n    display: 'flex',\n    flexDirection: isHorizontal ? 'row' : 'column',\n    flexWrap: 'wrap',\n    alignItems: 'flex-start',\n    gap: isHorizontal ? theme.spacing.sm : theme.spacing.xs,\n    width: '100%',\n    margin: '0',\n    padding: '0',\n  });\n}\n\nfunction getStepItemStyle(theme: Theme, isHorizontal: boolean, isLastStep: boolean): SerializedStyles {\n  return css({\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    flexGrow: isLastStep ? 0 : 1,\n    marginRight: isLastStep && isHorizontal ? theme.spacing.lg + theme.spacing.md : 0,\n    width: isHorizontal ? undefined : '100%',\n  });\n}\n\nfunction getStepContentStyleFields(\n  theme: Theme,\n  isCurrentStep: boolean,\n  status: Step['status'],\n  icon: Step['icon'],\n  additionalVerticalContent: Step['additionalVerticalContent'],\n) {\n  const fields = getStepContentStyleFieldsFromStatus(\n    theme,\n    isCurrentStep,\n    status,\n    !isUndefined(additionalVerticalContent),\n  );\n  if (icon) {\n    return {\n      ...fields,\n      icon: undefined,\n      iconBackgroundColor: undefined,\n      iconTextColor: getCustomIconColor(theme, isCurrentStep, status),\n      hasStepItemIconBorder: false,\n    };\n  }\n\n  return fields;\n}\n\nfunction getCustomIconColor(theme: Theme, isCurrentStep: boolean, status: Step['status']): string {\n  switch (status) {\n    case 'completed':\n      return theme.colors.actionLinkDefault;\n    case 'loading':\n      return theme.colors.textPlaceholder;\n    case 'error':\n      return theme.colors.textValidationDanger;\n    case 'warning':\n      return theme.colors.textValidationWarning;\n    default:\n    case 'upcoming':\n      return isCurrentStep ? theme.colors.actionLinkDefault : theme.colors.textPlaceholder;\n  }\n}\n\nfunction getStepContentStyleFieldsFromStatus(\n  theme: Theme,\n  isCurrentStep: boolean,\n  status: Step['status'],\n  hasAdditionalVerticalContent: boolean,\n): {\n  icon: React.ReactNode | undefined;\n  iconBackgroundColor: string | undefined;\n  iconTextColor: string;\n  titleAsParagraph: boolean;\n  titleTextColor: string;\n  descriptionTextColor: string;\n  hasStepItemIconBorder: boolean;\n  stepItemIconBorderColor?: string;\n} {\n  switch (status) {\n    case 'completed':\n      return {\n        icon: <CheckIcon />,\n        iconBackgroundColor: isCurrentStep\n          ? theme.colors.actionLinkDefault\n          : theme.isDarkMode\n          ? theme.colors.blue800\n          : theme.colors.blue100,\n        iconTextColor: isCurrentStep ? theme.colors.white : theme.colors.actionLinkDefault,\n        titleAsParagraph: false,\n        titleTextColor: theme.colors.actionLinkDefault,\n        descriptionTextColor: theme.colors.textSecondary,\n        hasStepItemIconBorder: true,\n        stepItemIconBorderColor: theme.colors.actionDefaultBackgroundPress,\n      };\n    case 'loading':\n      return {\n        icon: (\n          <LoadingIcon\n            spin\n            css={{ fontSize: isCurrentStep ? theme.typography.fontSizeXl : theme.typography.fontSizeLg }}\n          />\n        ),\n        iconBackgroundColor: undefined,\n        iconTextColor: theme.colors.textPlaceholder,\n        titleAsParagraph: false,\n        titleTextColor: isCurrentStep ? theme.colors.textPrimary : theme.colors.textSecondary,\n        descriptionTextColor: theme.colors.textSecondary,\n        hasStepItemIconBorder: false,\n      };\n    case 'error':\n      return {\n        icon: <DangerIcon />,\n        iconBackgroundColor: isCurrentStep ? theme.colors.textValidationDanger : theme.colors.backgroundDanger,\n        iconTextColor: isCurrentStep ? theme.colors.white : theme.colors.textValidationDanger,\n        titleAsParagraph: false,\n        titleTextColor: theme.colors.textValidationDanger,\n        descriptionTextColor: theme.colors.textValidationDanger,\n        hasStepItemIconBorder: true,\n        stepItemIconBorderColor: theme.colors.borderDanger,\n      };\n    case 'warning':\n      return {\n        icon: <WarningIcon />,\n        iconBackgroundColor: isCurrentStep ? theme.colors.textValidationWarning : theme.colors.backgroundWarning,\n        iconTextColor: isCurrentStep ? theme.colors.white : theme.colors.textValidationWarning,\n        titleAsParagraph: false,\n        titleTextColor: theme.colors.textValidationWarning,\n        descriptionTextColor: theme.colors.textValidationWarning,\n        hasStepItemIconBorder: true,\n        stepItemIconBorderColor: theme.colors.borderWarning,\n      };\n    default:\n    case 'upcoming':\n      if (isCurrentStep) {\n        return {\n          icon: undefined,\n          iconBackgroundColor: theme.colors.actionLinkDefault,\n          iconTextColor: 'white',\n          titleAsParagraph: false,\n          titleTextColor: theme.colors.actionLinkDefault,\n          descriptionTextColor: hasAdditionalVerticalContent ? theme.colors.textSecondary : theme.colors.textPrimary,\n          hasStepItemIconBorder: false,\n        };\n      }\n      return {\n        icon: undefined,\n        iconBackgroundColor: undefined,\n        iconTextColor: theme.colors.textPlaceholder,\n        titleAsParagraph: true,\n        titleTextColor: theme.colors.textSecondary,\n        descriptionTextColor: theme.colors.textSecondary,\n        hasStepItemIconBorder: true,\n        stepItemIconBorderColor: theme.colors.border,\n      };\n  }\n}\n\nconst MaxHorizontalStepDescriptionWidth = 140;\nconst StepIconSize = DEFAULT_SPACING_UNIT * 4;\n\nfunction getStepItemIconParentStyle(\n  theme: Theme,\n  iconBackgroundColor: string | undefined,\n  hasStepItemIconBorder: boolean,\n  stepItemIconBorderColor: string | undefined,\n  clickEnabled: boolean,\n): SerializedStyles {\n  return css({\n    width: StepIconSize,\n    height: StepIconSize,\n    backgroundColor: iconBackgroundColor,\n    borderRadius: '50%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    fontSize: '20px',\n    flexShrink: 0,\n    border: hasStepItemIconBorder ? `1px solid ${stepItemIconBorderColor ?? theme.colors.textPlaceholder}` : undefined,\n    boxSizing: 'border-box',\n    cursor: clickEnabled ? 'pointer' : undefined,\n  });\n}\n\nfunction getStepEndingDividerStyles(theme: Theme, isHorizontal: boolean, isCompleted: boolean): SerializedStyles {\n  const backgroundColor = isCompleted ? theme.colors.actionLinkDefault : theme.colors.border;\n\n  if (isHorizontal) {\n    return css({\n      backgroundColor,\n      height: '1px',\n      width: '100%',\n      minWidth: theme.spacing.md,\n    });\n  }\n  return css({\n    backgroundColor,\n    height: '100%',\n    minHeight: theme.spacing.lg,\n    width: '1px',\n    alignSelf: 'flex-start',\n    marginLeft: theme.spacing.md,\n  });\n}\n\nfunction getStepDescriptionStyles(\n  theme: Theme,\n  isHorizontal: boolean,\n  isLastStep: boolean,\n  textColor: string,\n): SerializedStyles {\n  return css({\n    alignSelf: 'flex-start',\n    width: '100%',\n    gridColumn: isHorizontal || isLastStep ? '2 / span 2' : undefined,\n    maxWidth: isHorizontal ? MaxHorizontalStepDescriptionWidth : undefined,\n    paddingBottom: isHorizontal ? undefined : theme.spacing.sm,\n    color: `${textColor} !important`,\n  });\n}\n\nfunction getStepDescriptionTextStyles(textColor: string): SerializedStyles {\n  return css({\n    color: `${textColor} !important`,\n  });\n}\n\nfunction getAdditionalVerticalStepContentStyles(theme: Theme, addTopPadding: boolean): SerializedStyles {\n  return css({\n    paddingTop: addTopPadding ? theme.spacing.sm : 0,\n  });\n}\n\nfunction StepContentGrid({ children, isHorizontal }: PropsWithChildren<{ isHorizontal: boolean }>) {\n  const { theme } = useDesignSystemTheme();\n  if (isHorizontal) {\n    return (\n      <div\n        css={{\n          display: 'grid',\n          gridTemplateColumns: `${StepIconSize}px fit-content(100%) 1fr`,\n          gridTemplateRows: `${StepIconSize}px auto`,\n          alignItems: 'center',\n          justifyItems: 'flex-start',\n          gridColumnGap: theme.spacing.sm,\n          width: '100%',\n        }}\n      >\n        {children}\n      </div>\n    );\n  }\n  return (\n    <div\n      css={{\n        display: 'grid',\n        gridTemplateColumns: `${StepIconSize}px minmax(0, 1fr)`,\n        alignItems: 'center',\n        justifyItems: 'flex-start',\n        gridColumnGap: theme.spacing.sm,\n        gridRowGap: theme.spacing.xs,\n        width: '100%',\n        '& > :first-child': {\n          // horizontally center the first column (circle/icon)\n          justifySelf: 'center',\n        },\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\n// Ant design uses the same value for their stepper and to works well for us as well.\nconst MinimumHorizonalDirectionWidth = 532;\n\n// exported for unit test\nexport function useResponsiveDirection({\n  requestedDirection = 'horizontal',\n  responsive,\n  enabled,\n  ref,\n}: {\n  requestedDirection: StepperProps['direction'];\n  enabled: boolean;\n  responsive: boolean;\n  ref: React.RefObject<HTMLOListElement>;\n}) {\n  const [direction, setDirection] = useState(requestedDirection);\n\n  useEffect(() => {\n    if (requestedDirection === 'vertical' || !enabled || !responsive || !ref.current) {\n      return;\n    }\n\n    let timeoutId: number;\n    const resizeObserver = new ResizeObserver((entries) => {\n      timeoutId = requestAnimationFrame(() => {\n        if (entries.length === 1) {\n          const width = entries[0].target.clientWidth || 0;\n          setDirection(width < MinimumHorizonalDirectionWidth ? 'vertical' : 'horizontal');\n        }\n      });\n    });\n    if (ref.current) {\n      resizeObserver.observe(ref.current);\n    }\n    return () => {\n      resizeObserver.disconnect();\n      cancelAnimationFrame(timeoutId);\n    };\n  }, [requestedDirection, enabled, ref, responsive]);\n\n  return { direction };\n}\n"],"names":["Stepper","_ref","direction","requestedDirection","currentStepIndex","currentStep","steps","localizeStepNumber","responsive","onStepClicked","theme","useDesignSystemTheme","ref","useRef","useResponsiveDirection","enabled","length","isHorizontal","Math","min","max","_jsx","addDebugOutlineIfEnabled","css","getStepsStyle","process","env","NODE_ENV","children","map","step","index","isCurrentStep","isLastStep","displayEndingDivider","contentTitleLevel","StepIcon","icon","clickEnabled","iconBackgroundColor","iconTextColor","titleTextColor","titleAsParagraph","descriptionTextColor","hasStepItemIconBorder","stepItemIconBorderColor","getStepContentStyleFields","status","additionalVerticalContent","getStepItemStyle","_jsxs","StepContentGrid","getStepItemIconParentStyle","Boolean","onClick","undefined","statusColor","_css","color","display","Typography","Title","level","withoutMargins","onKeyDown","event","key","cursor","tabIndex","role","Text","flexShrink","title","getStepEndingDividerStyles","description","getStepDescriptionStyles","getStepDescriptionTextStyles","size","getAdditionalVerticalStepContentStyles","listStyle","flexDirection","flexWrap","alignItems","gap","spacing","sm","xs","width","margin","padding","justifyContent","flexGrow","marginRight","lg","md","fields","getStepContentStyleFieldsFromStatus","_isUndefined","getCustomIconColor","colors","actionLinkDefault","textPlaceholder","textValidationDanger","textValidationWarning","hasAdditionalVerticalContent","CheckIcon","isDarkMode","blue800","blue100","white","textSecondary","actionDefaultBackgroundPress","LoadingIcon","spin","fontSize","typography","fontSizeXl","fontSizeLg","textPrimary","DangerIcon","backgroundDanger","borderDanger","WarningIcon","backgroundWarning","borderWarning","border","MaxHorizontalStepDescriptionWidth","StepIconSize","DEFAULT_SPACING_UNIT","height","backgroundColor","borderRadius","boxSizing","isCompleted","minWidth","minHeight","alignSelf","marginLeft","textColor","gridColumn","maxWidth","paddingBottom","addTopPadding","paddingTop","_ref2","gridTemplateColumns","gridTemplateRows","justifyItems","gridColumnGap","gridRowGap","justifySelf","MinimumHorizonalDirectionWidth","_ref3","setDirection","useState","useEffect","current","timeoutId","resizeObserver","ResizeObserver","entries","requestAnimationFrame","target","clientWidth","observe","disconnect","cancelAnimationFrame"],"mappings":"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"}