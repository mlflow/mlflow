"use strict";(self.webpackChunkdatabricks_mlModelTraceRenderer=self.webpackChunkdatabricks_mlModelTraceRenderer||[]).push([[743],{51743:(e,t,n)=>{n.r(t),n.d(t,{INFERENCE_TABLE_RESPONSE_COLUMN_KEY:()=>tA,INFERENCE_TABLE_TRACE_COLUMN_KEY:()=>tv,MLFLOW_TRACE_SCHEMA_VERSION_KEY:()=>tI,ModelIconType:()=>tO,ModelSpanType:()=>tN,ModelTraceChildToParentFrameMessage:()=>nM,ModelTraceContextProvider:()=>nL,ModelTraceExplorer:()=>nv,ModelTraceExplorerFrameRenderer:()=>nR,ModelTraceParentToChildFrameMessage:()=>nP,ModelTraceSpanType:()=>tC,getIsMlflowTraceUIEnabled:()=>tM,isModelTrace:()=>tx,useModelTraceContext:()=>nb});var r=n(71218),o=n(99615),a=n.n(o),i=n(65848),l=n.n(i),c=n(11795),s=n(26331),d=n(38799),u=n(25211),E=n(14144),p=n(29790),h=n.n(p),T=n(81453),g=n.n(T),m=n(24466),f=n.n(m),_=n(5003),I=n.n(_),A=n(76967),v=n.n(A),N=n(26865),O=n.n(N),C=n(49776),R=n.n(C),y=n(47540),b=n.n(y),S=n(6812),L=n.n(S),M=n(62925),P=n.n(M),x=n(54889),D=n.n(x),w=n(98358),Y=n(51399),U=n(27017),k=n.n(U),B=n(44768),H=n.n(B),F=n(83214),G=n(8153),W=n(66164),K=n(22919),z=n(30136),V=n(70549),$=n(21733),j=n(60700);let X={name:"1fz341y",styles:"margin-right:16px;text-align:right;position:absolute;right:0;padding-top:2px;padding-right:2px"};function q(e){let{children:t,style:n}=e;return(0,w.Y)("div",{css:X,style:n,children:t})}let Q=l().createContext({});function J(e){let{children:t,theme:n={}}=e;return(0,w.Y)(Q.Provider,{value:n,children:t})}function Z(e){let{theme:t="light",actions:n,children:r,style:o}=e;return(0,w.FD)(w.FK,{children:[(0,w.Y)(q,{style:o,children:(0,w.Y)(J,{theme:"duotoneDark"===t?{color:"rgba(255, 255, 255, 0.84)",hoverColor:"#8ccbffcc",backgroundColor:"rgba(140, 203, 255, 0)",hoverBackgroundColor:"rgba(140, 203, 255, 0.08)"}:void 0,children:n})}),r]})}function ee(e){e.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:BASE64|PARSE_URL|UPPER|LOWER|INITCAP|FORMAT_NUMBER|FORMAT_STRING|TRIM|UNBASE64|CONCAT|MAP|MAP_KEYS|MAP_VALUES|MAP_ENTRIES|MAP_FILTER|MAP_FROM_ARRAYS|MAP_FROM_ENTRIES|MAP_ZIP_WITH|ARRAY|AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:COPY|DESCRIBE HISTORY|DESCRIBE DETAIL|STORAGE CREDENTIALS?|URL|CACHE|UNCACHE|VACUUM|MSCK|CATALOGS?|CREDENTIALS?|FILES?|RECIPIENTS?|PROVIDERS?|TBLPROPERTIES|SHARES|VIEWS|EXTERNAL|REPAIR|REFRESH|COMMENT|LIST|PARQUET|LOCATIONS?|OPTIONS|JAR|ARCHIVE|ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR|AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/i,punctuation:/[;[\]()`,.]/}}ee.displayName="databricks-runtime-sql",ee.aliases=["sql","dbr-sql","dbsql","databricks-sql"],F.A.registerLanguage("sql",ee),F.A.registerLanguage("java",K.A),F.A.registerLanguage("python",$.A),F.A.registerLanguage("go",G.A),F.A.registerLanguage("javascript",z.A),F.A.registerLanguage("yaml",j.A),F.A.registerLanguage("json",V.A),F.A.registerLanguage("hcl",W.A);let et={light:{'code[class*="language-"]':{textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",color:"rgb(77, 77, 76)",background:"#fafafa",fontFamily:"'Menlo', 'Monaco', 'Consolas', 'Ubuntu Mono', 'Source Code Pro', monospace",fontSize:"12px",lineHeight:"1.5em",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",color:"rgb(77, 77, 76)",background:"#fafafa",fontFamily:"'Menlo', 'Monaco', 'Consolas', 'Ubuntu Mono', 'Source Code Pro', monospace",fontSize:"12px",lineHeight:"1.5em",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",overflow:"auto",position:"relative",margin:"0.5em 0",padding:"1.25em 1em"},'code[class*="language-"]::-moz-selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"]::-moz-selection':{background:"#cceae7",color:"#263238"},'code[class*="language-"] ::-moz-selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"] ::-moz-selection':{background:"#cceae7",color:"#263238"},'code[class*="language-"]::selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"]::selection':{background:"#cceae7",color:"#263238"},'code[class*="language-"] ::selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"] ::selection':{background:"#cceae7",color:"#263238"},':not(pre) > code[class*="language-"]':{whiteSpace:"normal",borderRadius:"0.2em",padding:"0.1em"},".language-css > code":{color:"#f5871f"},".language-sass > code":{color:"#f5871f"},".language-scss > code":{color:"#f5871f"},'[class*="language-"] .namespace':{Opacity:"0.7"},atrule:{color:"#7c4dff"},"attr-name":{color:"#39adb5"},"attr-value":{color:"#f6a434"},attribute:{color:"#f6a434"},boolean:{color:"#7c4dff"},builtin:{color:"#39adb5"},cdata:{color:"#39adb5"},char:{color:"#39adb5"},class:{color:"#39adb5"},"class-name":{color:"#6182b8"},comment:{color:"#8e908c"},constant:{color:"#7c4dff"},deleted:{color:"#e53935"},doctype:{color:"#aabfc9"},entity:{color:"#e53935"},function:{color:"#4271ae"},hexcode:{color:"#f5871f"},id:{color:"#7c4dff",fontWeight:"bold"},important:{color:"#7c4dff",fontWeight:"bold"},inserted:{color:"#39adb5"},keyword:{color:"#8959a8"},number:{color:"#f5871f"},operator:{color:"#3e999f"},prolog:{color:"#aabfc9"},property:{color:"#39adb5"},"pseudo-class":{color:"#f6a434"},"pseudo-element":{color:"#f6a434"},punctuation:{color:"rgb(77, 77, 76)"},regex:{color:"#6182b8"},selector:{color:"#e53935"},string:{color:"#3ba85f"},symbol:{color:"#7c4dff"},tag:{color:"#e53935"},unit:{color:"#f5871f"},url:{color:"#e53935"},variable:{color:"#c72d4c"}},duotoneDark:{'code[class*="language-"]':{fontFamily:"'Menlo', 'Monaco', 'Consolas', 'Ubuntu Mono', 'Andale Mono WT', 'Andale Mono', 'Lucida Console', 'Lucida Sans Typewriter', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Liberation Mono', 'Nimbus Mono L', 'Courier New', 'Courier', 'Source Code Pro', monospace",fontSize:"14px",lineHeight:"1.375",direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",background:"#2a2734",color:"#5DFAFC"},'pre[class*="language-"]':{fontFamily:"'Menlo', 'Monaco', 'Consolas', 'Ubuntu Mono', 'Andale Mono WT', 'Andale Mono', 'Lucida Console', 'Lucida Sans Typewriter', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Liberation Mono', 'Nimbus Mono L', 'Courier New', 'Courier', 'Source Code Pro', monospace",fontSize:"14px",lineHeight:"1.375",direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",background:"#2a2734",color:"#5DFAFC",padding:"1em",margin:".5em 0",overflow:"auto"},'pre > code[class*="language-"]':{fontSize:"1em"},'pre[class*="language-"]::-moz-selection':{textShadow:"none",background:"#6a51e6"},'pre[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"]::-moz-selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#6a51e6"},'pre[class*="language-"]::selection':{textShadow:"none",background:"#6a51e6"},'pre[class*="language-"] ::selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"]::selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"] ::selection':{textShadow:"none",background:"#6a51e6"},':not(pre) > code[class*="language-"]':{padding:".1em",borderRadius:".3em"},comment:{color:"#6c6783"},prolog:{color:"#6c6783"},doctype:{color:"#6c6783"},cdata:{color:"#6c6783"},punctuation:{color:"#6c6783"},namespace:{Opacity:".7"},tag:{color:"#3AACE2"},operator:{color:"#3AACE2"},number:{color:"#3AACE2"},property:{color:"#5DFAFC"},function:{color:"#5DFAFC"},"tag-id":{color:"#eeebff"},selector:{color:"#eeebff"},"atrule-id":{color:"#eeebff"},"code.language-javascript":{color:"#c4b9fe"},"attr-name":{color:"#c4b9fe"},"code.language-css":{color:"#ffffff"},"code.language-scss":{color:"#ffffff"},boolean:{color:"#ffffff"},string:{color:"#ffffff"},entity:{color:"#ffffff",cursor:"help"},url:{color:"#ffffff"},".language-css .token.string":{color:"#ffffff"},".language-scss .token.string":{color:"#ffffff"},".style .token.string":{color:"#ffffff"},"attr-value":{color:"#ffffff"},keyword:{color:"#ffffff"},control:{color:"#ffffff"},directive:{color:"#ffffff"},unit:{color:"#ffffff"},statement:{color:"#ffffff"},regex:{color:"#ffffff"},atrule:{color:"#ffffff"},placeholder:{color:"#ffffff"},variable:{color:"#ffffff"},deleted:{textDecoration:"line-through"},inserted:{borderBottom:"1px dotted #eeebff",textDecoration:"none"},italic:{fontStyle:"italic"},important:{fontWeight:"bold",color:"#c4b9fe"},bold:{fontWeight:"bold"},"pre > code.highlight":{Outline:".4em solid #8a75f5",OutlineOffset:".4em"},".line-numbers.line-numbers .line-numbers-rows":{borderRightColor:"#2c2937"},".line-numbers .line-numbers-rows > span:before":{color:"#3c3949"},".line-highlight.line-highlight":{background:"linear-gradient(to right, rgba(224, 145, 66, 0.2) 70%, rgba(224, 145, 66, 0))"}}};function en(e){let{theme:t="light",language:n,actions:r,style:o,children:a,...i}=e,l={border:"none",borderRadius:0,margin:0,padding:"24px",...o};return(0,w.Y)(Z,{theme:t,actions:r,children:(0,w.Y)(F.A,{language:n,style:et[t],customStyle:l,codeTagProps:{style:H()(o,"backgroundColor")},...i,children:a})})}var er=n(48091);function eo(e){return e&&`${e} !important`}function ea(e){let{tooltipMessage:t,...n}=e,{color:o,hoverColor:a,hoverBackgroundColor:l,backgroundColor:d,borderColor:u}=(0,i.useContext)(Q),E=(0,r.AH)({zIndex:1,color:eo(o),borderColor:eo(u),backgroundColor:eo(d),":hover":{color:eo(a),backgroundColor:eo(l)}},"");return(0,w.Y)(s.LegacyTooltip,{title:t,children:(0,w.Y)(c.B,{componentId:"codegen_web-shared_src_snippet_actions_snippetactionbutton.tsx_33",...n,css:E})})}function ei(e){let{copyText:t,onClick:n,...r}=e,{actionIcon:o,tooltipMessage:a,copy:l}=function(e,t,n){let r=(0,E.tz)(),o=r.formatMessage({id:"hBAhI8",defaultMessage:"Copy"}),a=r.formatMessage({id:"g4hHzO",defaultMessage:"Copied"}),l=(0,er.useClipboard)(),d=(0,i.useRef)(),[u,p]=(0,i.useState)(!1);return(0,i.useEffect)(()=>()=>{window.clearTimeout(d.current)},[]),{actionIcon:u?(0,w.Y)(c.r,{}):(0,w.Y)(s.CopyIcon,{}),tooltipMessage:u?a:o,copy:()=>{l.copy(e),window.clearTimeout(d.current),p(!0),d.current=window.setTimeout(()=>{p(!1)},3e3)},ariaLabel:o}}(t);return(0,w.Y)(ea,{tooltipMessage:a,icon:o,onClick:e=>{l(),null==n||n(e)},...r})}var el=n(25650),ec=n(29417);let es=e=>{let{children:t}=e;return(0,w.Y)(el.$,{components:eg,remarkPlugins:eE,children:t})};var ed={name:"bjn8wh",styles:"position:relative"};let eu=l().memo(e=>{let{code:t,language:n}=e,{theme:r}=(0,c.a)();return(0,w.Y)("div",{css:ed,children:(0,w.Y)(en,{actions:(0,w.Y)(ei,{componentId:"genai.util.markdown-copy-code-block",copyText:t}),theme:r.isDarkMode?"duotoneDark":"light",children:t,language:n||"text",style:{padding:"8px 0",borderRadius:8,width:"100%",boxSizing:"border-box",maxHeight:640,display:"flex",flexDirection:"column-reverse"},showLineNumbers:!0})})}),eE=[ec.A];var ep={name:"1qmr6ab",styles:"overflow:auto"},eh={name:"qneu98",styles:"height:auto;min-height:initial;display:inline-flex;min-width:100%"},eT={name:"qhxz92",styles:"max-width:100%"};let eg={a:e=>{let{href:t,children:n}=e;return(0,w.Y)(c.p.Link,{componentId:"codegen_webapp_js_genai_util_markdown.tsx_71",href:t,disabled:null==t?void 0:t.startsWith("."),children:n,openInNewTab:!0})},code:e=>{let{children:t,inline:n,className:r}=e,o=l().useMemo(()=>{let e=/language-(\w+)/.exec(null!=r?r:"");return e&&em(e[1])?e[1]:void 0},[r]);if(n)return(0,w.Y)(c.p.Text,{code:!0,children:t});let a=String(t).replace(/\n$/,"");return(0,w.Y)(eu,{code:a,language:o})},p:e=>{let{children:t}=e;return(0,w.Y)(c.p.Paragraph,{children:t})},h1:e=>{let{children:t}=e;return(0,w.Y)(c.p.Title,{level:1,children:t})},h2:e=>{let{children:t}=e;return(0,w.Y)(c.p.Title,{level:2,children:t})},h3:e=>{let{children:t}=e;return(0,w.Y)(c.p.Title,{level:3,children:t})},h4:e=>{let{children:t}=e;return(0,w.Y)(c.p.Title,{level:4,children:t})},h5:e=>{let{children:t}=e;return(0,w.Y)(c.p.Title,{level:5,children:t})},table:e=>{let{children:t}=e;return(0,w.Y)("div",{css:ep,children:(0,w.Y)(s.Table,{scrollable:!0,css:eh,children:t})})},tr:e=>{let{children:t,isHeader:n}=e;return(0,w.Y)(s.TableRow,{children:t,isHeader:n})},th:e=>{let{children:t}=e;return(0,w.Y)(s.TableHeader,{componentId:"codegen_webapp_js_genai_util_markdown.tsx_90",children:t})},td:e=>{let{children:t}=e;return(0,w.Y)(s.TableCell,{children:t,multiline:!0})},thead:e=>{let{children:t}=e;return(0,w.Y)(w.FK,{children:t})},tbody:e=>{let{children:t}=e;return(0,w.Y)(w.FK,{children:t})},img:e=>{let{src:t,alt:n}=e;return(0,w.Y)("img",{src:t,alt:n,css:eT})}},em=e=>{switch(e){case"go":case"hcl":case"java":case"javascript":case"json":case"python":case"sql":case"text":case"yaml":return!0;default:return!1}};var ef=n(29059);let e_=(0,i.createContext)({esComponent:ef.E.UiInfra,errorBoundaryId:"__default"});function eI(){return(0,i.useContext)(e_)}var eA=n(21340),ev=n.n(eA),eN=n(14196),eO=n(82973),eC=n.n(eO);let eR="rit_comp_id",ey=new WeakMap,eb=null,eS=function(e){return e.GLOBAL="global",e.WEBAPP_APP_ROOT="webapp_app_root",e.WEBAPP_LOGIN_ROOT="webapp_login_root",e.WEBAPP_REACT_ROOT="webapp_react_root",e.WEBAPP_TAB_COUNT="webapp_tab_count",e.PLATFORM_ROUTER_PAGE_VIEW="platform_router_page_view",e.PLATFORM_ROUTER_PAGE_ID="platform_router_page_id",e.SCHEMA_BROWSER_OPTIONS="schema_browser_options",e.SCHEMA_BROWSER_LOCATION_ID="schema_browser_location_id",e.SCHEMA_BROWSER_PANEL_ID="schema_browser_panel_id",e.SCHEMA_BROWSER_TREE_ID="schema_browser_tree_id",e.INGESTION_CONNECTIONS_MODAL_ID="ingestion_connections_modal_id",e.INGESTION_CREATE_TABLE_VOLUME="ingestion_create_table_volume",e.INGESTION_CREATE_OR_MODIFY_TABLE_PAGE_ID="ingestion_create_or_modify_table_page_id",e.INGESTION_CREATE_OR_MODIFY_TABLE_ID="ingestion_create_or_modify_table_id",e.INGESTION_CREATE_TABLE_EXTERNAL_LOCATIONS_PAGE_ID="ingestion_create_table_external_locations_page_id",e.INGESTION_CREATE_TABLE_EXTERNAL_LOCATIONS_ID="ingestion_create_table_external_locations_id",e.INGESTION_NEW_PIPELINE_PAGE_ID="ingestion_new_pipeline_page_id",e.INGESTION_PREVIEW_TABLE_ID="ingestion_preview_table_id",e.INGESTION_FILE_UPLOADER_ID="ingestion_file_uploader_id",e.INGESTION_VOLUME_UPLOAD_ID="ingestion_volume_upload_id",e.INGESTION_ADD_DATA_PAGE_ID="ingestion_add_data_page_id",e.INGESTION_QUERY_SOURCE_ALERTS_ID="ingestion_query_source_alerts_id",e.INGESTION_SETUP_WIZARD_ID="ingestion_setup_wizard_id",e.DATA_EXPLORER_UI="data_explorer_ui",e.SQL_EDITOR_TAB_ID="sql_editor_tab_id",e.SQL_EDITOR_TABS_COUNT_ID="sql_editor_tabs_count_id",e.SISU_APP_ROOT="sisu_app_root",e.ANALYTICS_CONTAINER="analytics_container",e.PANEL_BOUNDARY="panel_boundary",e.ACCOUNTS_CONSOLE_LOGIN_ROOT="accounts_console_login_root",e.FEATURE_PREVIEW_PAGE_ID="feature_preview_page_id",e.WEBAPP_DARK_MODE_PROMPT_MODAL="webapp_dark_mode_prompt_modal",e.ASSET_LIST_ITEM="homepage_asset_list_item",e.BROWSE_ASSET_SELECTOR="browse_asset_selector",e.BROWSE_ASSET_SELECTOR_SECTION="browse_asset_selector_section",e.BROWSE_ASSET_SELECTOR_SUBSECTION="browse_asset_selector_subsection",e.BROWSE_FAVORITES_TABLE="browse_favorite_table",e.BROWSE_POPULAR_TABLE="browse_popular_table",e.ACCOUNTS_CONSOLE_CREATE_WORKSPACE_MODAL="accounts_console_create_workspace_modal",e.DATA_SHARING="data_sharing",e}({}),eL={DUMMY_TEST_CONTEXT:["context.server_context.client_ip"],[eS.ANALYTICS_CONTAINER]:["context.analytics_context.analytics_container_context","context.client_context.es_component"],[eS.PLATFORM_ROUTER_PAGE_ID]:["context.client_context.page_id"],[eS.PLATFORM_ROUTER_PAGE_VIEW]:["context.client_context.page_view_id"]},eM=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new Set;return Object.keys(e).forEach(r=>{let o=[...t,r].join(".");"object"==typeof e[r]&&null!==e[r]?eM(e[r],[...t,r]).forEach(e=>n.add(e)):n.add(o)}),n},eP=(e,t)=>{var n,r;return null!==(n=null===(r=eL[e])||void 0===r?void 0:r.some(e=>t.startsWith(e)))&&void 0!==n&&n};function ex(e,t,n,r,o){let a=eM(e),i=new Set,l=new Set,c=t.map(t=>{let n=t.recordProtoContextFunc(e);return{id:t.id,result:n,paths:eM(n)}});c.forEach(e=>{let{paths:t,id:n}=e;t.forEach(e=>{eP(n,e)&&a.has(e)&&l.add(e)})});let s=eC()(e,...c.map(e=>e.result));return c.forEach(e=>{let{id:t,paths:n}=e;n.forEach(e=>{a.has(e)?eP(t,e)||i.add(e):a.add(e)})}),l.size>0&&(0,Y.s)("databricks.fe.observability.protoContextualAlerts",!1)&&eN.A.sev2(ef.E.UiObservability,"experimental-AllowlistedRecordProtoPropertyViolation",`Error boundary: ${r}, record event context chain: ${o.join(",")}, allowlisted properties modified by main object: ${[...l].join(",")}. Please follow go/recordprotoallowlistviolation to resolve.
Call stack: ${Error().stack}`,!0),i.size>0&&(0,Y.s)("databricks.fe.observability.protoContextualAlerts",!1)&&eN.A.sev2(ef.E.UiObservability,"experimental-DuplicateRecordProtoProperty",`Error boundary: ${r}, record event context chain: ${o.join(",")}, duplicate proto properties: ${[...i].join(",")}. Please follow go/recordprotoduplicateproperties to resolve.
Call stack: ${Error().stack}`,!0),s}function eD(){let{esComponent:e,errorBoundaryId:t}=eI(),{contextList:n,contextChain:r}=(0,i.useContext)(e$);return(0,i.useCallback)(o=>(0,eN.i)(n.length>0?ex({entry:o},n,e,t,r):{entry:o}),[r,t,e,n])}let ew=function(e){return e.INITIAL_LOAD="INITIAL_LOAD",e.NAVIGATION="NAVIGATION",e.INTERACTION="INTERACTION",e.MEASUREMENT="MEASUREMENT",e}({}),eY=function(e){return e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.PAGE="PAGE",e.COMPONENT="COMPONENT",e.INTERACTION="INTERACTION",e}({}),eU=function(e){return e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ALERT="ALERT",e.BANNER="BANNER",e.BUTTON="BUTTON",e.CHECKBOX="CHECKBOX",e.DIALOG_COMBOBOX="DIALOG_COMBOBOX",e.DIV="DIV",e.DROPDOWN_MENU_CHECKBOX_ITEM="DROPDOWN_MENU_CHECKBOX_ITEM",e.DROPDOWN_MENU_ITEM="DROPDOWN_MENU_ITEM",e.DROPDOWN_MENU_RADIO_GROUP="DROPDOWN_MENU_RADIO_GROUP",e.FILE_INPUT="FILE_INPUT",e.FORM="FORM",e.INITIAL_LOAD="INITIAL_LOAD",e.INPUT="INPUT",e.INTERACTION="INTERACTION",e.LINK="LINK",e.MEASUREMENT="MEASUREMENT",e.MODAL="MODAL",e.NAVIGATION="NAVIGATION",e.NOTIFICATION="NOTIFICATION",e.PILL_CONTROL="PILL_CONTROL",e.RADIO_GROUP="RADIO_GROUP",e.SEGMENTED_CONTROL_GROUP="SEGMENTED_CONTROL_GROUP",e.SIMPLE_SELECT="SIMPLE_SELECT",e.SWITCH="SWITCH",e.TABS="TABS",e.TAG="TAG",e.TEXT_AREA="TEXT_AREA",e.TOGGLE_BUTTON="TOGGLE_BUTTON",e.TYPOGRAPHY_LINK="TYPOGRAPHY_LINK",e.CONTEXT_MENU_CHECKBOX_ITEM="CONTEXT_MENU_CHECKBOX_ITEM",e.CONTEXT_MENU_ITEM="CONTEXT_MENU_ITEM",e.CONTEXT_MENU_RADIO_GROUP="CONTEXT_MENU_RADIO_GROUP",e.LEGACY_SELECT="LEGACY_SELECT",e.PAGINATION="PAGINATION",e.REACT_SELECT="REACT_SELECT",e.ACCORDION="ACCORDION",e.CARD="CARD",e.DRAWER_CONTENT="DRAWER_CONTENT",e.PREVIEW_CARD="PREVIEW_CARD",e.TABLE_HEADER="TABLE_HEADER",e.TOOLTIP="TOOLTIP",e.TYPEAHEAD_COMBOBOX="TYPEAHEAD_COMBOBOX",e}({}),ek=function(e){return e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ADHOC="ADHOC",e.DESIGN_SYSTEM="DESIGN_SYSTEM",e.UNIFIED_ROUTER="UNIFIED_ROUTER",e.LEGACY_ROUTER="LEGACY_ROUTER",e.REACT_INTERACTION_TRACING="REACT_INTERACTION_TRACING",e}({}),eB=function(e){return e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.PAGE_VIEW="PAGE_VIEW",e.COMPONENT_CLICK="COMPONENT_CLICK",e.COMPONENT_VALUE_CHANGE="COMPONENT_VALUE_CHANGE",e.COMPONENT_VIEW="COMPONENT_VIEW",e.INTERACTION_PHASE="INTERACTION_PHASE",e.FORM_SUBMIT="FORM_SUBMIT",e.CLIPBOARD_CUT="CLIPBOARD_CUT",e.CLIPBOARD_COPY="CLIPBOARD_COPY",e.CLIPBOARD_PASTE="CLIPBOARD_PASTE",e}({}),eH=function(e){return e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.START="START",e.IN_PROGRESS="IN_PROGRESS",e.COMPLETE="COMPLETE",e}({}),eF=function(e){return e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.SUCCESS="SUCCESS",e.FAILURE="FAILURE",e.CANCELLED="CANCELLED",e.INTERRUPTED="INTERRUPTED",e.TIMED_OUT="TIMED_OUT",e}({});function eG(e){switch(e.entityType){case"page":return{type:eY.PAGE,sub_type:void 0,entity_id:e.entityId};case"component":return{type:eY.COMPONENT,sub_type:function(e){switch(e){case"accordion":return eU.ACCORDION;case"alert":return eU.ALERT;case"banner":return eU.BANNER;case"button":return eU.BUTTON;case"card":return eU.CARD;case"checkbox":return eU.CHECKBOX;case"context_menu_checkbox_item":return eU.CONTEXT_MENU_CHECKBOX_ITEM;case"context_menu_item":return eU.CONTEXT_MENU_ITEM;case"context_menu_radio_group":return eU.CONTEXT_MENU_RADIO_GROUP;case"dialog_combobox":return eU.DIALOG_COMBOBOX;case"div":return eU.DIV;case"drawer_content":return eU.DRAWER_CONTENT;case"dropdown_menu_checkbox_item":return eU.DROPDOWN_MENU_CHECKBOX_ITEM;case"dropdown_menu_item":return eU.DROPDOWN_MENU_ITEM;case"dropdown_menu_radio_group":return eU.DROPDOWN_MENU_RADIO_GROUP;case"file_input":return eU.FILE_INPUT;case"form":return eU.FORM;case"input":return eU.INPUT;case"legacy_select":return eU.LEGACY_SELECT;case"link":return eU.LINK;case"modal":return eU.MODAL;case"notification":return eU.NOTIFICATION;case"pagination":return eU.PAGINATION;case"pill_control":return eU.PILL_CONTROL;case"preview_card":return eU.PREVIEW_CARD;case"radio_group":return eU.RADIO_GROUP;case"react_select":return eU.REACT_SELECT;case"segmented_control_group":return eU.SEGMENTED_CONTROL_GROUP;case"simple_select":return eU.SIMPLE_SELECT;case"switch":return eU.SWITCH;case"table_header":return eU.TABLE_HEADER;case"tabs":return eU.TABS;case"tag":return eU.TAG;case"text_area":return eU.TEXT_AREA;case"toggle_button":return eU.TOGGLE_BUTTON;case"tooltip":return eU.TOOLTIP;case"typeahead_combobox":return eU.TYPEAHEAD_COMBOBOX;case"typography_link":return eU.TYPOGRAPHY_LINK}}(e.entitySubType),entity_id:e.entityId};case"interaction":return{type:eY.INTERACTION,sub_type:function(e){switch(e){case ew.INITIAL_LOAD:return eU.INITIAL_LOAD;case ew.NAVIGATION:return eU.NAVIGATION;case ew.INTERACTION:return eU.INTERACTION;case ew.MEASUREMENT:return eU.MEASUREMENT}}(e.entitySubType),entity_id:e.entityId}}}function eW(e,t,n){eK(e,t,{...n,eventClientSource:"adhoc"})}function eK(e,t,n){e("uiAnalyticsEvent",function(e){let t={...e.customContext,interactionSubject:e.eventPayload.interactionSubject,rootInteractionId:e.eventPayload.rootInteractionId,interactionId:e.eventPayload.interactionId,eventType:e.eventType,eventClientSource:e.eventClientSource,entityType:e.eventEntity.entityType,entitySubType:e.eventEntity.entitySubType,entityId:e.eventEntity.entityId};switch(e.eventType){case"page_view":{let{productEntityChain:n,...r}=e.eventPayload,o=null==n?void 0:n.map(e=>`${e.type}:${e.id}`).join(",");return{...t,pageId:e.eventEntity.entityId,productEntityChain:o,...r}}case"page_clipboard_cut":case"page_clipboard_copy":case"page_clipboard_paste":return{...t,referrerComponentType:e.eventPayload.referrerComponentType,referrerComponentId:e.eventPayload.referrerComponentId};case"component_click":case"component_view":return{...t,componentType:e.eventEntity.entitySubType,componentId:e.eventEntity.entityId};case"component_value_change":return{...t,componentType:e.eventEntity.entitySubType,componentId:e.eventEntity.entityId,valueChangeEventValueBoolean:e.eventPayload.valueBoolean,valueChangeEventValueString:e.eventPayload.valueString,valueChangeEventValueNumber:e.eventPayload.valueNumber};case"form_submit":var n,r;return{...t,referrerComponentType:null===(n=e.eventPayload.submissionTriggerEntity)||void 0===n?void 0:n.entitySubType,referrerComponentId:null===(r=e.eventPayload.submissionTriggerEntity)||void 0===r?void 0:r.entityId};case"interaction_phase":return{...t,interactionPhaseName:e.eventPayload.interactionPhaseName,interactionPhaseStatus:e.eventPayload.interactionPhaseStatus,interactionPhaseType:e.eventPayload.interactionPhaseType}}}(n)),t&&t({observability_log:{type:function(e){switch(e){case"page_view":return eB.PAGE_VIEW;case"page_clipboard_cut":return eB.CLIPBOARD_CUT;case"page_clipboard_copy":return eB.CLIPBOARD_COPY;case"page_clipboard_paste":return eB.CLIPBOARD_PASTE;case"component_click":return eB.COMPONENT_CLICK;case"component_value_change":return eB.COMPONENT_VALUE_CHANGE;case"component_view":return eB.COMPONENT_VIEW;case"interaction_phase":return eB.INTERACTION_PHASE;case"form_submit":return eB.FORM_SUBMIT}}(n.eventType),client_source:function(e){switch(e){case"adhoc":case"dropzone":return ek.ADHOC;case"design_system":return ek.DESIGN_SYSTEM;case"legacy_router":return ek.LEGACY_ROUTER;case"react_interaction_tracing":return ek.REACT_INTERACTION_TRACING;case"unified_router":return ek.UNIFIED_ROUTER}}(n.eventClientSource),entity:eG(n.eventEntity),payload:(()=>{let e={interaction_subject:n.eventPayload.interactionSubject,interaction_id:n.eventPayload.interactionId,root_interaction_id:n.eventPayload.rootInteractionId};switch(n.eventType){case"page_view":let t={utm_source:n.eventPayload.utmSourceUrlParam,utm_medium:n.eventPayload.utmMediumUrlParam,utm_campaign:n.eventPayload.utmCampaignUrlParam,utm_ad_group:n.eventPayload.utmAdGroupUrlParam,utm_content:n.eventPayload.utmContentUrlParam,utm_offer:n.eventPayload.utmOfferUrlParam,utm_ad_url:n.eventPayload.utmAdUrlParam,sisu_intent:n.eventPayload.sisuIntentUrlParam};return{...e,page_view_payload:{referrer_component_id:n.eventPayload.referrerComponentId,browser_screen_height:n.eventPayload.browserScreenHeight,browser_screen_width:n.eventPayload.browserScreenWidth,url_params:Object.values(t).some(e=>void 0!==e)?t:void 0}};case"page_clipboard_cut":case"page_clipboard_copy":case"page_clipboard_paste":case"component_click":case"component_view":return e;case"component_value_change":let r=void 0!==n.eventPayload.valueBoolean?{value_boolean:n.eventPayload.valueBoolean}:void 0!==n.eventPayload.valueString?{value_string:n.eventPayload.valueString}:void 0!==n.eventPayload.valueNumber?{value_number:n.eventPayload.valueNumber}:{};return{...e,component_value_change_payload:r};case"form_submit":return{...e,form_submit_payload:{submission_trigger_entity:n.eventPayload.submissionTriggerEntity?eG(n.eventPayload.submissionTriggerEntity):void 0}};case"interaction_phase":return{...e,interaction_phase_payload:{name:n.eventPayload.interactionPhaseName,type:function(e){switch(e){case"start":return eH.START;case"in_progress":return eH.IN_PROGRESS;case"complete":return eH.COMPLETE}}(n.eventPayload.interactionPhaseType),status:function(e){switch(e){case"success":return eF.SUCCESS;case"failure":return eF.FAILURE;case"cancelled":return eF.CANCELLED;case"interrupted":return eF.INTERRUPTED;case"timed_out":return eF.TIMED_OUT}}(n.eventPayload.interactionPhaseStatus)}}}})(),custom_context:n.customContextProto}})}let ez={onClick:"component_click",onSubmit:"form_submit",onValueChange:"component_value_change",onView:"component_view"},eV=e=>{let{recordEvent:t,recordProto:n,startInteraction:r}=e;return(0,i.useCallback)(e=>{var o,a,i,l;let{eventType:c,componentType:s,componentId:d,value:u,shouldStartInteraction:E,event:p,skip:h,referrerComponent:T,isInteractionSubject:g}=e,m=null,f=ez[c],_=function(e,t,n){return{interactionName:`${eR}:${e}:component:${t}:${n}`,componentType:t,componentId:n}}(f,s,d),I=null;if((null==p||!p.defaultPrevented)&&!h){if(E){if("form_submit"===f){let e=eb?ey.get(eb):null,t=e?function(e){return e.startsWith(`${eR}:`)?{interactionName:e,componentType:e.split(":")[3],componentId:e.split(":")[4]}:null}(e.name):null;e&&t&&"button"===t.componentType&&(I=e)}I||(I=r(_.interactionName,void 0,void 0,void 0,{isInteractionSubject:!1})),I&&p&&function(e,t){var n;if(!t){eN.A.sev2(ef.E.UiInfra,"Experimental: set-interaction-for-event-with-null",Error("cannot set null interaction for event"));return}let r="nativeEvent"in e?e.nativeEvent:e;ey.has(r)&&eN.A.sev2(ef.E.UiObservability,"Experimental: event-has-interaction-associated-already",{eventType:r.type,existing:null===(n=ey.get(r))||void 0===n?void 0:n.name,new:null==t?void 0:t.name,stack:Error().stack}),eb=r,ey.set(r,t),queueMicrotask(()=>{r===eb&&(eb=null)})}(p,I)}switch(f){case"component_click":m={eventType:f,eventClientSource:"design_system",eventEntity:{entityType:"component",entitySubType:s,entityId:d},eventPayload:{interactionSubject:null==g||g,interactionId:null===(o=I)||void 0===o?void 0:o.id,rootInteractionId:null===(a=I)||void 0===a?void 0:a.rootInteractionId}};break;case"form_submit":m={eventType:f,eventClientSource:"design_system",eventEntity:{entityType:"component",entitySubType:s,entityId:d},eventPayload:{interactionSubject:!0,interactionId:null===(i=I)||void 0===i?void 0:i.id,rootInteractionId:null===(l=I)||void 0===l?void 0:l.rootInteractionId,submissionTriggerEntity:T?{entityType:"component",entitySubType:T.type,entityId:T.id}:void 0}};break;case"component_value_change":m={eventType:f,eventClientSource:"design_system",eventEntity:{entityType:"component",entitySubType:s,entityId:d},eventPayload:{interactionSubject:!0,valueBoolean:"boolean"==typeof u?u:void 0,valueString:"string"==typeof u?u:void 0,valueNumber:"number"==typeof u?u:void 0}};break;case"component_view":m={eventType:f,eventClientSource:"design_system",eventEntity:{entityType:"component",entitySubType:s,entityId:d},eventPayload:{interactionSubject:!0}}}m?eK(t,n,m):eN.A.sev2(ef.E.UiObservability,"InternalDesignSystemEventProvider/UnknownEventType",{eventType:c,componentType:s,componentId:d})}},[t,n,r])},e$=l().createContext({tags:{},contextChain:[],contextList:[]});function ej(e,t){let n=(0,i.useRef)([]),{esComponent:r,errorBoundaryId:o}=eI();return(0,i.useCallback)((a,i)=>{let l=Object.keys(i),c=Object.keys(a).filter(e=>l.includes(e)&&!n.current.includes(e));c.length>0&&(n.current.push(...c),eN.A.sev2(c.some(e=>"esComponent"===e)?ef.E.UiObservability:r,t,`Error boundary: ${o}, record event context chain: ${e.join(",")}, duplicate tags: ${c.join(",")}. Please follow go/recordeventduplicatetags to resolve.
Call stack: ${Error().stack}`,!0))},[e,t,r,o])}function eX(e,t,n,r){if(n&&e(null!=n?n:{},t),n&&r){let e=Object.keys(n),t=Object.keys(r);ev()(0===e.filter(e=>t.includes(e)).length,`Cannot specify a tag in both the tags and as override. Tags: ${e.join(",")}, overrides: ${t.join(",")}`)}return n||r?{...t,...n,...r}:t}let eq={};function eQ(){let{tags:e,contextChain:t}=(0,i.useContext)(e$),n=ej(t,"DuplicateRecordEventInvocationTag"),r=(0,i.useCallback)((t,r)=>eX(n,e,t,r),[n,e]);return{contextTags:e,mergeTags:r}}function eJ(){let e=function(){let{mergeTags:e}=eQ();return(0,i.useCallback)(t=>{let{metric:n,tags:r,overrides:o,eventData:a}=t,i=e(r,o);(0,eN.r)(n,i,a)},[e])}();return(0,i.useCallback)((t,n,r)=>e({metric:t,tags:n,eventData:r}),[e])}let eZ=l().createContext({getCurrentInteraction:()=>null,startInteraction:()=>null});var e0=n(12394),e1=n.n(e0),e2=n(57488);function e3(e){let{ref:t,debounceTimeMs:n}=e,r=(0,i.useRef)({width:-1,height:-1}),o=(0,i.useRef)(),[a,l]=(0,i.useState)(null),c=(0,i.useCallback)(e=>{if(0===e.length)return;let t=e[0].contentRect;if(-1===r.current.width){r.current={width:t.width,height:t.height},l(r.current);return}if(t.width!==r.current.width||t.height!==r.current.height){if(r.current.width=t.width,r.current.height=t.height,!n){l({...r.current});return}clearTimeout(o.current),o.current=setTimeout(()=>{l({...r.current})},n)}},[n]),s=(0,i.useRef)();return s.current||(s.current=new ResizeObserver(c)),(0,i.useEffect)(()=>{let e="function"==typeof t?t():t.current;if(e){let t=s.current;return t.observe(e),()=>t.unobserve(e)}}),a}var e5=n(98045);function e4(e,t){return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];let i=e&&e(n,...o);return n&&n.defaultPrevented?i:t(n,...o)}}var e6=n(67271),e7=n(15464);let e8=(0,i.createContext)(null);e8.displayName="GanttContext";let e9=()=>{let e=(0,i.useContext)(e8);if(!e)throw Error("useGanttContext must be used within a GanttContext.Provider");return e},te=e=>{let t=e9();return(0,e6.Pj)(t.storeRef.current,e)};var tt={name:"bjn8wh",styles:"position:relative"};let tn=(0,i.forwardRef)(function(e,t){let{...n}=e,{width:r}=e9();return r?(0,w.Y)("div",{ref:t,"data-gantt-body":"",css:tt,...n}):null}),tr=(0,i.createContext)(null);tr.displayName="GanttRowContext";let to=()=>{let e=(0,i.useContext)(tr);if(!e)throw Error("useGanttRowContext must be used within a GanttRowContext.Provider");return e};var ta={name:"4d7y4w",styles:"display:flex;align-items:center;min-width:2px;overflow:visible;min-height:16px;padding:2px;box-sizing:border-box;width:var(--gantt-cell-length);inset-inline-start:calc(var(--gantt-cell-position) + var(--gantt-cell-padding))"};let ti=(0,i.forwardRef)(function(e,t){let{as:n="div",style:r,id:o,start:a,end:l,onMouseEnter:c,onMouseLeave:s,...d}=e,{nodesById:u,paddingLeft:E}=e9(),p=te(e=>e.setHighlightedEdge),{length:h,position:T}=function(e){let{start:t,end:n}=e,{start:r,scale:o}=e9();return{length:Math.max(n-t,0)*o,position:(t-r)*o}}({start:a,end:l}),{top:g,height:m}=to();if((0,i.useLayoutEffect)(()=>{if(o){let e=String(o),t=u.current;return()=>{t.delete(e)}}},[o]),u.current.has(String(o))){let e=u.current.get(String(o));e.rect.x=T,e.rect.width=h,e.rect.y=g,e.rect.height=m}else u.current.set(String(o),{rect:{width:h,x:T,height:m,y:g}});return(0,w.Y)(n,{ref:t,"data-gantt-cell":"","data-gantt-cell-id":o,css:ta,style:{position:"absolute",zIndex:1,"--gantt-cell-length":`${h}px`,"--gantt-cell-position":`${T}px`,"--gantt-cell-padding":`${E}px`,...r},onMouseEnter:e4(c,()=>p(o)),onMouseLeave:e4(s,()=>p(void 0)),...d})});var tl={name:"1v26o98",styles:"transform:translateX(-42%)"};let tc=(0,i.forwardRef)(function(e,t){let{style:n,...r}=e,{dividerLengthInPixels:o}=e9();return(0,w.Y)("div",{ref:t,"data-gantt-header-cell":"",css:tl,style:{minWidth:o,...n},...r})}),ts=e=>{let{children:t}=e,{dividers:n}=e9(),r=(0,E.tz)();return t?(0,w.Y)(w.FK,{children:t(n)}):(0,w.Y)(w.FK,{children:n.map(e=>(0,w.Y)(tc,{children:(0,w.Y)("span",{children:r.formatTime(new Date(e),{timeStyle:"medium"})})},e))})},td=e=>({position:"relative",display:"flex",alignItems:"center",minHeight:"32px",textAlign:"center",fontVariantNumeric:"tabular-nums",borderBottomColor:e.colors.border,borderBottomStyle:"solid",borderBottomWidth:"1px",backgroundColor:e.colors.backgroundPrimary,color:e.colors.textSecondary,whiteSpace:"nowrap",overflow:"hidden"}),tu=(0,i.forwardRef)(function(e,t){let{theme:n}=(0,c.a)(),{paddingLeft:o,paddingRight:a}=e9();return(0,w.Y)("div",{ref:t,"data-gantt-header":"",css:(0,r.AH)({...td(n),padding:`0px ${a}px 0px ${o}px`},""),...e})}),tE=(0,i.forwardRef)(function(e,t){let{style:n,height:o=32,top:a,...l}=e,{paddingLeft:s,paddingRight:d}=e9(),u=(0,i.useMemo)(()=>({height:o,top:a}),[o,a]),{theme:E}=(0,c.a)();return(0,w.Y)(tr.Provider,{value:u,children:(0,w.Y)("div",{ref:t,"data-gantt-row":"",css:(0,r.AH)({boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",backgroundColor:E.colors.backgroundPrimary,padding:`8px ${d}px 8px ${s}px`,minHeight:"32px",minWidth:"100%","&:nth-of-type(odd)":{backgroundColor:E.colors.backgroundSecondary}},""),style:{...n},...l})})}),tp=(0,i.forwardRef)(function(e,t){let{style:n,start:o,...a}=e,{theme:i}=(0,c.a)(),{start:l,scale:s,paddingLeft:d}=e9(),u=(o-l)*s;return(0,w.Y)("div",{ref:t,"data-gantt-vertical-marker":"","data-gantt-vertical-marker-offset":o,style:{left:u,insetInlineStart:u,...n},"aria-hidden":"true",css:(0,r.AH)({boxSizing:"border-box",position:"absolute",top:"0",bottom:"0",zIndex:0,width:"1px",backgroundColor:i.colors.backgroundPrimary,marginLeft:d},""),...a})}),th=()=>{let{dividers:e}=e9();return(0,w.Y)(w.FK,{children:e.map(e=>(0,w.Y)(tp,{start:e},e))})},tT=()=>(0,e7.A)(e=>({highlightedEdge:void 0,setHighlightedEdge:t=>e(()=>({highlightedEdge:t}))}));var tg={name:"10vana9",styles:"position:relative;display:grid;grid-template-columns:1fr;grid-template-rows:min-content;align-items:start;height:min-content"};let tm=(0,i.forwardRef)(function(e,t){var n,r;let{children:o,start:a,end:l,style:c,numDividers:s=10,paddingLeft:d=40,paddingRight:u=8,width:E=0,...p}=e,h=(0,i.useRef)();h.current||(h.current=tT());let T=(0,i.useRef)(new Map),g=(0,i.useRef)(null),m=null!==(n=null===(r=e3({ref:g,debounceTimeMs:16}))||void 0===r?void 0:r.width)&&void 0!==n?n:E,f=Math.max(1,"function"==typeof s?Math.floor(s(m)):s),_=(0,i.useMemo)(()=>{let e=Math.max(0,m-d-u),t=e/f,n=e/(l-a);return{storeRef:h,start:a,scale:n,end:l,dividerLengthInPixels:t,dividers:function(e){let{start:t,end:n,maxWidth:r,numDividers:o,dividerLengthInPixels:a}=e;if(o<0||n<t)return[];let i=Math.max(1e3,(n-t)/o),l=[];for(let e=t,o=0;e<=n&&(!(o>0)||!(o+.9*a>=r));e+=i,o+=a)l.push(e);return l}({start:a,end:l,maxWidth:e,numDividers:f,dividerLengthInPixels:t}),nodesById:T,paddingLeft:d,paddingRight:u,numDividers:f,width:m}},[a,l,d,u,f,m]);return(0,w.Y)(e8.Provider,{value:_,children:(0,w.Y)("div",{"data-gantt-root":"",style:{...c},css:tg,ref:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{!function(e,t){if(null!==e){if("function"==typeof e)e(t);else if("object"==typeof e)try{e.current=t}catch(n){throw Error(`Cannot assign value "${t}" to ref "${e}"`)}}}(t,e)})}}(g,t),...p,children:o})})}),tf=(0,n(7349).d)("Feedback::OpenDrawer");function t_(e){let{"aria-describedby":t,children:n,...r}=e,[o,a]=(0,i.useState)(tf.isAvailable());return((0,i.useEffect)(()=>{let e;if(o)return;tf.isAvailable()&&a(!0);let t=500,n=()=>{tf.isAvailable()?a(!0):((t*=2)>5e3&&(t=5e3),e=setTimeout(n,t))};return e=setTimeout(n,t),()=>clearTimeout(e)},[o]),o)?(0,w.Y)(c.B,{componentId:"codegen_web-shared_src_fastfeedback_components_feedbacklink.tsx_54","aria-describedby":t,type:"link",icon:(0,w.Y)(s.SpeechBubbleIcon,{}),onClick:()=>tf.call({parentUi:r.parentUi,origin:r.origin}),children:n||(0,w.Y)(E.sA,{id:"W96Xb9",defaultMessage:"Send feedback"})}):null}let tI="mlflow.trace_schema.version",tA="response",tv="trace",tN=function(e){return e.LLM="LLM",e.CHAIN="CHAIN",e.AGENT="AGENT",e.TOOL="TOOL",e.FUNCTION="FUNCTION",e.CHAT_MODEL="CHAT_MODEL",e.RETRIEVER="RETRIEVER",e.PARSER="PARSER",e.EMBEDDING="EMBEDDING",e.RERANKER="RERANKER",e.UNKNOWN="UNKNOWN",e}({}),tO=function(e){return e.MODELS="models",e.DOCUMENT="document",e.CONNECT="connect",e.SEARCH="search",e.SORT="sort",e.UNKNOWN="unknown",e.FUNCTION="function",e.CODE="code",e.NUMBERS="numbers",e.WRENCH="wrench",e.AGENT="agent",e.CHAIN="chain",e}({}),tC=function(e){return e.LLM="LLM",e.CHAIN="CHAIN",e.AGENT="AGENT",e.TOOL="TOOL",e.CHAT_MODEL="CHAT_MODEL",e.RETRIEVER="RETRIEVER",e.PARSER="PARSER",e.EMBEDDING="EMBEDDING",e.RERANKER="RERANKER",e.UNKNOWN="UNKNOWN",e}({}),tR=e=>{let{type:t=tO.CONNECT}=e,{theme:n}=(0,c.a)(),o={[tO.MODELS]:(0,w.Y)(s.ModelsIcon,{}),[tO.DOCUMENT]:(0,w.Y)(s.FileDocumentIcon,{}),[tO.CONNECT]:(0,w.Y)(s.ConnectIcon,{}),[tO.CODE]:(0,w.Y)(s.CodeIcon,{}),[tO.FUNCTION]:(0,w.Y)(s.FunctionIcon,{}),[tO.NUMBERS]:(0,w.Y)(s.NumbersIcon,{}),[tO.SEARCH]:(0,w.Y)(s.SearchIcon,{}),[tO.SORT]:(0,w.Y)(s.SortUnsortedIcon,{}),[tO.UNKNOWN]:(0,w.Y)(s.QuestionMarkIcon,{}),[tO.WRENCH]:(0,w.Y)(s.WrenchIcon,{}),[tO.AGENT]:(0,w.Y)(s.Robot2Icon,{}),[tO.CHAIN]:(0,w.Y)(s.ChainIcon,{})};return(0,w.Y)("div",{css:(0,r.AH)({width:n.general.iconSize,height:n.general.iconSize,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:n.legacyBorders.borderRadiusMd,svg:{width:n.general.iconFontSize,height:n.general.iconFontSize}},""),children:o[t]})};function ty(e){switch(e){case tN.LLM:return tO.MODELS;case tN.CHAIN:return tO.CHAIN;case tN.AGENT:return tO.AGENT;case tN.TOOL:return tO.WRENCH;case tN.CHAT_MODEL:return tO.MODELS;case tN.RETRIEVER:return tO.SEARCH;case tN.PARSER:return tO.CODE;case tN.EMBEDDING:return tO.NUMBERS;case tN.RERANKER:return tO.SORT;case tN.FUNCTION:return tO.FUNCTION;case tN.UNKNOWN:return tO.UNKNOWN;default:return tO.FUNCTION}}function tb(e){try{return JSON.parse(e)}catch(t){return e}}let tS=(e,t)=>{let n=[],r={attributes:null==e?void 0:e.attributes,inputs:null==e?void 0:e.inputs,outputs:null==e?void 0:e.outputs};return I()(r,(r,o)=>{tD(r).forEach(r=>{r.key.toLowerCase().includes(t)&&n.push({span:e,section:o,key:r.key,isKeyMatch:!0,matchIndex:0});let a=r.value.toLowerCase().split(t).length-1;for(let t=0;t<a;t++)n.push({span:e,section:o,key:r.key,isKeyMatch:!1,matchIndex:t})})}),n},tL=(e,t,n,r)=>{var o,a,i,l;let c=tb(null===(o=e.attributes)||void 0===o?void 0:o["mlflow.spanType"]),s=tb(null===(a=e.attributes)||void 0===a?void 0:a["mlflow.spanInputs"]),d=tb(null===(i=e.attributes)||void 0===i?void 0:i["mlflow.spanOutputs"]),u=P()(D()(e.attributes,(e,t)=>t.startsWith("mlflow.")),e=>tb(e)),E=(Number(e.start_time)-t)/1e3,p=(Number(null!==(l=e.end_time)&&void 0!==l?l:n)-t)/1e3;return{title:e.name,icon:(0,w.Y)(tR,{type:ty(c)}),type:c,key:e.context.span_id,start:E,end:p,children:r,inputs:s,outputs:d,attributes:u}};function tM(){var e;return null!==(e=(0,Y.s)("mlflow_tracing",null))&&void 0!==e?e:(0,Y.s)("databricks.fe.mlflow.enableTracingUI",!1)}function tP(e){if(e){if(L()(e)){var t;return null===(t=e.find(e=>e.key===tI))||void 0===t?void 0:t.value}return e[tI]}}let tx=e=>{let t=null==e?void 0:e.info,n=null==e?void 0:e.data;return!!t&&!!n&&null!=n&&!!n.spans&&!!((null==t?void 0:t.request_metadata)&&tP(t.request_metadata)||(null==t?void 0:t.tags)&&tP(t.tags))},tD=e=>h()(e)?[]:Array.isArray(e)||b()(e)||R()(e)||O()(e)?[{key:"",value:JSON.stringify(e,null,2)}]:Object.entries(e).map(e=>{let[t,n]=e;return{key:t,value:JSON.stringify(n,null,2)}}),tw=e=>{let{searchFilter:t,data:n,activeMatchBackgroundColor:o,inactiveMatchBackgroundColor:a,containsActiveMatch:i,activeMatch:l,scrollToActiveMatch:c}=e,s=RegExp(`(${v()(t.trim())})`,"gi"),d=n.split(s),u=[],E=0;for(let e=0;e<d.length;e++)if(d[e].toLowerCase().includes(t.toLowerCase().trim())){let t=i&&l.matchIndex===E,n=t?o:a,s=(0,w.Y)("span",{ref:t?c:null,css:(0,r.AH)({backgroundColor:n,scrollMarginTop:50},""),children:d[e]},e);E++,u.push(s)}else u.push(d[e]);return u},tY=e=>e.type===tN.RETRIEVER&&Array.isArray(e.outputs)&&e.outputs.length>0&&f()(e.outputs,e=>g()(e,"page_content")),tU="yellow500",tk="yellow200",tB=e=>{let{searchFilter:t,data:n,activeMatch:o,containsActiveMatch:a}=e,{theme:l}=(0,c.a)(),s=(0,i.useCallback)(e=>{null==e||e.scrollIntoView({block:"nearest",inline:"nearest"})},[]),d=(0,i.useMemo)(()=>t?tw({data:n,searchFilter:t,activeMatchBackgroundColor:l.colors[tU],inactiveMatchBackgroundColor:l.colors[tk],containsActiveMatch:a,activeMatch:o,scrollToActiveMatch:s}):[],[t,n,l,a,o,s]);return(0,w.Y)("pre",{css:(0,r.AH)({whiteSpace:"pre-wrap",backgroundColor:l.colors.backgroundSecondary,padding:l.spacing.sm,fontSize:l.typography.fontSizeSm},""),children:d})},tH=e=>{let{title:t,searchFilter:n,isActiveMatch:o}=e,{theme:a}=(0,c.a)(),l=(0,i.useCallback)(e=>{null==e||e.scrollIntoView({block:"nearest",inline:"nearest"})},[]),s=t.toLowerCase();if(!s.includes(n))return(0,w.Y)("div",{children:t});let d=s.indexOf(n),u=d+n.length,E=o?a.colors[tU]:a.colors[tk];return(0,w.FD)("div",{children:[t.slice(0,d),(0,w.Y)("span",{ref:o?l:null,css:(0,r.AH)({backgroundColor:E,scrollMarginTop:50},""),children:t.slice(d,u)}),t.slice(u)]})};var tF={name:"vy7omj",styles:"display:inline-block;word-break:break-all"};function tG(e){var t;let{title:n,value:r,searchFilter:o,activeMatch:a,containsActiveMatch:l}=e,d=(0,i.useMemo)(()=>JSON.stringify(r,null,2),[r]),u=!!o&&!h()(a)&&d.toLowerCase().includes(o),[E,p]=(0,i.useState)(u),[T,g]=(0,i.useState)(!1),m=(0,i.useRef)(null),f=(0,i.useMemo)(()=>E?d:JSON.stringify(r),[r,d,E]),{theme:_}=(0,c.a)(),I=(0,i.useCallback)(e=>(0,w.Y)("pre",{...e,ref:m}),[]),A=l&&null!==(t=null==a?void 0:a.isKeyMatch)&&void 0!==t&&t;return(0,i.useEffect)(()=>{m.current&&g(m.current.scrollWidth>m.current.clientWidth)},[r]),(0,w.FD)(w.FK,{children:[(0,w.Y)(c.p.Text,{color:"secondary",css:tF,title:n,children:(0,w.Y)(tH,{title:n,searchFilter:o,isActiveMatch:A})}),u?(0,w.FD)(w.FK,{children:[(0,w.Y)("div",{}),(0,w.Y)(tB,{searchFilter:o,data:d,activeMatch:a,containsActiveMatch:l})]}):(0,w.FD)(w.FK,{children:[T?(0,w.Y)(c.B,{size:"small",componentId:E?"shared.model-trace-explorer.collapse-attribute-row":"shared.model-trace-explorer.expand-attribute-row",type:"tertiary",icon:E?(0,w.Y)(s.ChevronDownIcon,{}):(0,w.Y)(c.m,{}),onClick:()=>p(!E)}):(0,w.Y)("div",{}),(0,w.Y)(en,{PreTag:I,language:"json",lineProps:{style:{wordBreak:"break-all",whiteSpace:"pre-wrap"}},wrapLines:E,style:{backgroundColor:_.colors.backgroundSecondary,padding:_.spacing.xs,overflow:E?"auto":"hidden",textOverflow:E?"unset":"ellipsis",height:"fit-content"},children:f})]})]})}function tW(e){var t;let{title:n,tokens:o,data:a,searchFilter:l,activeMatch:d,containsActiveMatch:u}=e,p=!!l&&!h()(d)&&a.toLowerCase().includes(l),{theme:T}=(0,c.a)(),[g,m]=(0,i.useState)(!0),[f,_]=(0,i.useState)(p),I=(0,i.useRef)(null),A=g||a.split("\n").length>4,v=u&&null!==(t=null==d?void 0:d.isKeyMatch)&&void 0!==t&&t,N=(0,i.useMemo)(()=>A&&!f?a.split("\n").slice(0,4).join("\n"):a,[a,A,f]);(0,i.useEffect)(()=>{I.current&&m(I.current.scrollWidth>I.current.clientWidth)},[a]);let O=(0,i.useCallback)(e=>(0,w.Y)("pre",{...e,ref:I}),[]);return(0,w.Y)("div",{css:(0,r.AH)({position:"relative",marginBottom:T.spacing.md},""),children:(0,w.FD)("div",{css:(0,r.AH)({borderRadius:T.legacyBorders.borderRadiusMd,overflow:"hidden"},""),children:[(0,w.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottom:`1px solid ${T.colors.border}`,backgroundColor:T.colors.backgroundSecondary,padding:T.spacing.xs},""),children:[(0,w.Y)(c.p.Title,{css:(0,r.AH)({marginLeft:T.spacing.md-T.spacing.xs,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},""),level:4,color:"secondary",withoutMargins:!0,children:(0,w.Y)(tH,{title:n,searchFilter:l,isActiveMatch:v})}),(0,w.Y)(ei,{componentId:"shared.model-trace-explorer.copy-snippet",copyText:a},"copy-snippet")]}),p?(0,w.Y)(tB,{data:a,searchFilter:l,activeMatch:d,containsActiveMatch:!d.isKeyMatch&&u}):(0,w.FD)(w.FK,{children:[(0,w.Y)(en,{PreTag:O,showLineNumbers:!0,language:"json",lineProps:{style:{wordBreak:"break-word",whiteSpace:"pre-wrap"}},wrapLines:f,style:{backgroundColor:T.colors.backgroundSecondary,padding:T.spacing.sm,paddingBottom:A?0:T.spacing.sm,overflow:f?"auto":"hidden"},children:N}),A&&(0,w.Y)("div",{css:(0,r.AH)({backgroundColor:T.colors.backgroundSecondary},""),children:(0,w.Y)(c.B,{css:(0,r.AH)({width:"100%",padding:T.spacing.sm},""),componentId:f?"shared.model-trace-explorer.snippet-see-less":"shared.model-trace-explorer.snippet-see-more",icon:f?(0,w.Y)(s.ChevronUpIcon,{}):(0,w.Y)(s.ChevronDownIcon,{}),type:"tertiary",onClick:()=>_(!f),children:f?(0,w.Y)(E.sA,{id:"AgjhWE",defaultMessage:"See less"}):(0,w.Y)(E.sA,{id:"HYQHVk",defaultMessage:"See more"})})})]})]})})}var tK={name:"1d3w5wq",styles:"width:100%"};let tz=e=>{let{sectionKey:t,title:n,children:o,withBorder:a=!1}=e,[l,d]=(0,i.useState)(!0),{theme:u}=(0,c.a)();return(0,w.FD)("div",{css:(0,r.AH)({marginBottom:u.spacing.md},""),children:[(0,w.FD)("div",{css:(0,r.AH)({alignItems:"center",display:"flex",flexDirection:"row",gap:u.spacing.xs,marginBottom:u.spacing.xs},""),children:[(0,w.Y)(c.B,{size:"small",componentId:`shared.model-trace-explorer.expand-${t}`,type:"tertiary",icon:l?(0,w.Y)(s.ChevronDownIcon,{}):(0,w.Y)(c.m,{}),onClick:()=>d(!l)}),(0,w.Y)(c.p.Title,{withoutMargins:!0,level:4,css:tK,children:n})]}),l&&(0,w.Y)("div",{css:(0,r.AH)({border:a?`1px solid ${u.colors.border}`:"",borderRadius:a?u.legacyBorders.borderRadiusMd:"",padding:a?u.spacing.md:0,paddingTop:a?u.spacing.md:u.spacing.sm,paddingBottom:0},""),children:o})]})};function tV(e){let{activeSpan:t,className:n,searchFilter:o,activeMatch:a}=e,{theme:l}=(0,c.a)(),s=(0,i.useMemo)(()=>tD(null==t?void 0:t.inputs),[t]),d=(0,i.useMemo)(()=>tD(null==t?void 0:t.outputs),[t]);if(h()(t))return null;let{attributes:u}=t,p=k()(u).length>0,T=s.length>0,g=d.length>0,m=!h()(a)&&a.span.key===t.key;return(0,w.FD)("div",{"data-testid":"model-trace-explorer-default-span-view",children:[p&&(0,w.Y)(tz,{sectionKey:"attributes",title:(0,w.Y)(E.sA,{id:"vIPatv",defaultMessage:"Attributes"}),children:u&&(0,w.Y)("div",{css:(0,r.AH)({display:"grid",gridTemplateColumns:"fit-content(25%) auto 1fr",gap:l.spacing.sm,marginBottom:l.spacing.md},""),children:Object.entries(u).map((e,t)=>{let[n,r]=e;return(0,w.Y)(tG,{title:n,value:r,searchFilter:o,activeMatch:a,containsActiveMatch:m&&"attributes"===a.section&&a.key===n},n)})})}),T&&(0,w.Y)(tz,{withBorder:!0,sectionKey:"input",title:(0,w.Y)(E.sA,{id:"/TX1Az",defaultMessage:"Inputs"}),children:s.map((e,t)=>{let{key:n,value:r}=e;return(0,w.Y)(tW,{title:n,data:r,searchFilter:o,activeMatch:a,containsActiveMatch:m&&"inputs"===a.section&&a.key===n},n||t)})}),g&&(0,w.Y)(tz,{withBorder:!0,sectionKey:"output",title:(0,w.Y)(E.sA,{id:"ZstVNI",defaultMessage:"Outputs"}),children:d.map(e=>{let{key:t,value:n}=e;return(0,w.Y)(tW,{title:t,data:n,searchFilter:o,activeMatch:a,containsActiveMatch:m&&"outputs"===a.section&&a.key===t},t)})})]})}let t$=e=>e?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{whiteSpace:"nowrap"},tj=e=>{let{itemKey:t,itemValue:n,charLimit:o=18,maxWidth:a=150,className:i}=e,{shouldTruncateKey:l,shouldTruncateValue:u}=function(e,t,n){let r=e.length+t.length,o=e.length>t.length,a=o?t.length:e.length;return r<=n?{shouldTruncateKey:!1,shouldTruncateValue:!1}:a>n/2?{shouldTruncateKey:!0,shouldTruncateValue:!0}:{shouldTruncateKey:o,shouldTruncateValue:!o}}(t,n,o);return(0,w.Y)(d.T,{componentId:"shared.model-trace-explorer.key-value-tag.hover-tooltip",content:`${t}: ${n}`,children:(0,w.FD)(s.Tag,{componentId:"shared.model-trace-explorer.key-value-tag",css:(0,r.AH)({maxWidth:a},""),className:i,children:[(0,w.Y)(c.p.Text,{bold:!0,css:t$(l),size:"sm",children:t}),":\xa0",(0,w.Y)(c.p.Text,{css:t$(u),size:"sm",children:n})]})})};var tX={name:"1fttcpj",styles:"display:flex;flex-direction:column"};function tq(e){let{text:t,metadataTags:n,setExpanded:o,logDocumentClick:a}=e,{theme:i}=(0,c.a)();return(0,w.FD)("div",{css:tX,children:[(0,w.Y)("div",{role:"button",onClick:()=>{o(!1),a("collapse")},css:(0,r.AH)({display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer",padding:i.spacing.md,height:i.typography.lineHeightBase,boxSizing:"content-box","&:hover":{backgroundColor:i.colors.backgroundSecondary}},""),children:(0,w.Y)(s.FileDocumentIcon,{})}),(0,w.Y)("div",{css:(0,r.AH)({padding:i.spacing.md,paddingBottom:0},""),children:(0,w.Y)(es,{children:t})}),(0,w.Y)("div",{css:(0,r.AH)({padding:i.spacing.md,paddingTop:0},""),children:n.map(e=>{let{key:t,value:n}=e;return(0,w.Y)(tj,{itemKey:t,itemValue:n},t)})}),(0,w.Y)(c.B,{css:(0,r.AH)({width:"100%",padding:i.spacing.sm},""),componentId:"shared.model-trace-explorer.retriever-document-collapse",icon:(0,w.Y)(s.ChevronUpIcon,{}),type:"tertiary",onClick:()=>o(!1),children:(0,w.Y)(E.sA,{id:"AgjhWE",defaultMessage:"See less"})})]})}var tQ={name:"ho1qnd",styles:"display:flex;flex-direction:row"},tJ={name:"1r5gb7q",styles:"display:inline-block"},tZ={name:"1bmnxg7",styles:"white-space:nowrap"};function t0(e){let{text:t,metadataTags:n,setExpanded:o,logDocumentClick:a}=e,{theme:i}=(0,c.a)();return(0,w.FD)("div",{role:"button",onClick:()=>{o(!0),a("expand")},css:(0,r.AH)({display:"flex",flexDirection:"row",padding:i.spacing.md,gap:i.spacing.sm,alignItems:"center",justifyContent:"space-between",cursor:"pointer","&:hover":{backgroundColor:i.colors.backgroundSecondary}},""),children:[(0,w.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"row",gap:i.spacing.sm,alignItems:"center",minWidth:0,flexShrink:1},""),children:[(0,w.Y)(s.FileDocumentIcon,{}),(0,w.Y)(c.p.Text,{ellipsis:!0,size:"md",children:t})]}),(0,w.FD)("div",{css:tQ,children:[n.length>0?(0,w.Y)(tj,{itemKey:n[0].key,itemValue:n[0].value}):null,n.length>1?(0,w.Y)(d.T,{componentId:"shared.model-trace-explorer.tag-count.hover-tooltip",content:n.slice(1).map(e=>{let{key:t,value:n}=e;return(0,w.Y)("span",{css:tJ,children:`${t}: ${n}`},t)}),children:(0,w.FD)(s.Tag,{componentId:"shared.model-trace-explorer.tag-count",css:tZ,children:["+",n.length-1]})}):null]})]})}function t1(e){let{text:t,metadata:n}=e,[r,o]=(0,i.useState)(!1),a=tD(n),l=eJ(),c=eD(),s=(0,i.useCallback)(e=>{eW(l,c,{eventType:"component_click",eventEntity:{entityType:"component",entitySubType:"div",entityId:`shared.model-trace-explorer.retriever-document-${e}`},eventPayload:{interactionSubject:!0}})},[l,c]);return r?(0,w.Y)(tq,{text:t,metadataTags:a,setExpanded:o,logDocumentClick:s}):(0,w.Y)(t0,{text:t,metadataTags:a,setExpanded:o,logDocumentClick:s})}var t2={name:"uqztsn",styles:"display:flex;flex-direction:row;justify-content:space-between;width:100%"};function t3(e){let{activeSpan:t,className:n,searchFilter:o,activeMatch:a}=e,{theme:l}=(0,c.a)(),d=(0,E.tz)(),[u,p]=(0,i.useState)(!0),T=(0,i.useMemo)(()=>tD(t.inputs),[t]),g=t.outputs,{attributes:m}=t,f=T.length>0,_=k()(m).length>0,I=!h()(a)&&a.span.key===t.key,A=I&&"outputs"===a.section;return(0,w.FD)("div",{className:n,"data-testid":"model-trace-explorer-retriever-span-view",children:[_&&(0,w.Y)(tz,{sectionKey:"attributes",title:(0,w.Y)(E.sA,{id:"vIPatv",defaultMessage:"Attributes"}),children:m&&(0,w.Y)("div",{css:(0,r.AH)({display:"grid",gridTemplateColumns:"fit-content(25%) auto 1fr",gap:l.spacing.sm,marginBottom:l.spacing.md},""),children:Object.entries(m).map((e,t)=>{let[n,r]=e;return(0,w.Y)(tG,{title:n,value:r,searchFilter:o,activeMatch:a,containsActiveMatch:I&&"attributes"===a.section&&a.key===n},n)})})}),f&&(0,w.Y)(tz,{sectionKey:"input",title:(0,w.Y)(E.sA,{id:"/TX1Az",defaultMessage:"Inputs"}),children:T.map((e,t)=>{let{key:n,value:r}=e;return(0,w.Y)(tW,{title:n,data:r,searchFilter:o,activeMatch:a,containsActiveMatch:I&&"inputs"===a.section&&a.key===n},n||t)})}),(0,w.Y)(tz,{sectionKey:"output",title:(0,w.FD)("div",{css:t2,children:[(0,w.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"row",gap:l.spacing.sm},""),children:[(0,w.Y)(E.sA,{id:"ThYYz6",defaultMessage:"Documents"}),(0,w.Y)(s.Tag,{componentId:"shared.model-trace-explorer.document-count",children:g.length})]}),!A&&(0,w.Y)(s.Switch,{componentId:`shared.model-trace-explorer.toggle-render-markdown-${!u}`,label:d.formatMessage({id:"5iS3sI",defaultMessage:"Show as markdown"}),activeLabel:" ",inactiveLabel:" ",disabledLabel:" ",checked:u,onChange:()=>p(!u)})]}),children:u&&!A?(0,w.Y)("div",{css:(0,r.AH)({border:`1px solid ${l.colors.border}`,borderRadius:l.borders.borderRadiusMd},""),children:g.map((e,t)=>(0,w.Y)("div",{css:(0,r.AH)({borderBottom:t!==g.length-1?`1px solid ${l.colors.border}`:""},""),children:(0,w.Y)(t1,{text:e.page_content,metadata:e.metadata},t)},t))}):(0,w.Y)("div",{css:(0,r.AH)({border:`1px solid ${l.colors.border}`,borderRadius:l.borders.borderRadiusMd,padding:l.spacing.md,paddingBottom:0},""),children:(0,w.Y)(tW,{title:"",data:JSON.stringify(g,null,2),searchFilter:o,activeMatch:a,containsActiveMatch:I&&"outputs"===a.section})})})]})}function t5(e){let{activeSpan:t,className:n,searchFilter:o,activeMatch:a}=e,{theme:i}=(0,c.a)();return!h()(t)&&tY(t)?(0,w.Y)("div",{css:(0,r.AH)({padding:i.spacing.md,overflowY:"auto",borderLeft:`1px solid ${i.colors.border}`,minWidth:300},""),className:n,children:(0,w.Y)(t3,{activeSpan:t,className:n,searchFilter:o,activeMatch:a})}):(0,w.Y)("div",{css:(0,r.AH)({padding:i.spacing.md,overflowY:"auto",borderLeft:`1px solid ${i.colors.border}`,minWidth:300},""),className:n,children:(0,w.Y)(tV,{activeSpan:t,className:n,searchFilter:o,activeMatch:a})})}var t4={name:"1h0bf8r",styles:"body, :host{user-select:none;}"},t6={name:"1endq0h",styles:"display:flex;flex:1;overflow-y:auto;flex-direction:row"},t7={name:"kjqqaz",styles:"width:0;position:relative"};let t8=(0,i.forwardRef)((e,t)=>{var n;let{initialRatio:o,paneWidth:a,setPaneWidth:l,leftChild:s,leftMinWidth:d,rightChild:u,rightMinWidth:E}=e,[p,h]=(0,i.useState)(!1),T=(0,i.useRef)(null),g=null===(n=e3({ref:T}))||void 0===n?void 0:n.width,m=(null!=g?g:1/0)-E,f=(0,i.useRef)(o),{theme:_}=(0,c.a)(),I=(0,i.useCallback)(e=>{g&&(f.current=e/g)},[g]);return(0,i.useImperativeHandle)(t,()=>({updateRatio:I})),(0,i.useEffect)(()=>{g&&l(e1()(g*f.current,d,m))},[g,m,d,E,l]),(0,w.FD)("div",{ref:T,css:t6,children:[p&&(0,w.Y)(r.mL,{styles:t4}),(0,w.Y)(e2.ResizableBox,{axis:"x",width:a,css:(0,r.AH)({display:"flex",flex:`0 0 ${a}px`},""),handle:(0,w.Y)("div",{css:t7,children:(0,w.Y)("div",{css:(0,r.AH)({position:"relative",width:_.spacing.sm,marginLeft:-_.spacing.xs,minHeight:"100%",cursor:"ew-resize",backgroundColor:"rgba(0,0,0,0)",zIndex:1,":hover":{backgroundColor:"rgba(0,0,0,0.1)"}},"")})}),onResize:(e,t)=>{let{size:n}=t,r=e1()(n.width,d,m);l(r),g&&(f.current=r/g)},onResizeStart:()=>h(!0),onResizeStop:()=>h(!1),minConstraints:[d,1/0],maxConstraints:[m,1/0],children:s}),u]})});var t9={name:"2wv1be",styles:"width:100%;box-sizing:border-box"},ne=e=>{let{searchFilter:t,setSearchFilter:n,matchData:o,handleNextSearchMatch:a,handlePreviousSearchMatch:l}=e,[d,E]=(0,i.useState)(t),p=(0,e5.YQ)(n,350),{theme:h}=(0,c.a)();return(0,w.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"row",justifyContent:"space-between",gap:h.spacing.sm},""),children:[(0,w.Y)(u.I,{componentId:"shared.model-trace-explorer.search-input",allowClear:!0,placeholder:"Search",value:d,onClear:()=>{n(""),E("")},onChange:e=>{E(e.target.value),p(e.target.value.toLowerCase())},prefix:(0,w.Y)(s.SearchIcon,{}),css:t9}),o.match&&(0,w.FD)("div",{css:(0,r.AH)({display:"flex",flexDirection:"row",marginLeft:h.spacing.xs,marginRight:h.spacing.sm,alignItems:"center"},""),children:[(0,w.FD)(c.p.Text,{css:(0,r.AH)({whiteSpace:"nowrap",marginRight:h.spacing.sm},""),children:[o.currentMatchIndex+1," / ",o.totalMatches]}),(0,w.Y)(c.B,{"data-testid":"prev-search-match",icon:(0,w.Y)(s.ChevronUpIcon,{}),onClick:l,componentId:"shared.model-trace-explorer.prev-search-match"}),(0,w.Y)(c.B,{"data-testid":"next-search-match",icon:(0,w.Y)(s.ChevronDownIcon,{}),onClick:a,componentId:"shared.model-trace-explorer.next-search-match"})]})]})},nt={name:"15currb",styles:"display:flex;height:100%"},nn={name:"82a6rk",styles:"flex:1"};let nr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{min:Number.MAX_SAFE_INTEGER,max:0};return e.forEach(e=>{let{start:n,end:r,children:o}=e;n<t.min&&(t.min=n),r>t.max&&(t.max=r),nr(null!=o?o:[],t)}),t},no=(e,t)=>{let n=[],r=e=>{if(e&&(n.push(e),t.includes(e.key))){var o;null===(o=e.children)||void 0===o||o.forEach(r)}};return e.forEach(r),n},na=e=>{let t={},n=e=>{var r;e&&(t[e.key]=e,null===(r=e.children)||void 0===r||r.forEach(n))};return e.forEach(n),t},ni=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,i.useState)(()=>e.initialExpandAll&&e.rootNodes?a()(na(e.rootNodes)).map(e=>e.key):[]);return{expandedKeys:t,setExpandedKeys:n}},nl=e=>{var t;let{treeNode:n,selectedNode:r,setSelectedNode:o}=e,[a,l]=(0,i.useState)(""),[c,s]=(0,i.useState)(0),{filteredTreeNodes:d,matches:u}=(0,i.useMemo)(()=>h()(n)?{filteredTreeNodes:[],matches:[]}:function e(t,n){var r,o;let a=n.toLowerCase().trim();if(""===a)return{filteredTreeNodes:[t],matches:[]};let i=null!==(r=t.children)&&void 0!==r?r:[],l=[],c=[];i.forEach(t=>{let{filteredTreeNodes:n,matches:r}=e(t,a);l.push(...n),c.push(...r)});let s=(null!==(o=t.title)&&void 0!==o?o:"").toLowerCase(),d=tS(t,a);return 0!==d.length||s.includes(a)?{filteredTreeNodes:[{...t,children:l}],matches:d.concat(c)}:{filteredTreeNodes:l,matches:c}}(n,a),[null==n?void 0:n.key,a]),E=(0,i.useCallback)(()=>{c<u.length-1&&(s(c+1),o(u[c+1].span))},[c,u,o]),p=(0,i.useCallback)(()=>{c>0&&(s(c-1),o(u[c-1].span))},[c,u,o]);return(0,i.useLayoutEffect)(()=>{if(0!==d.length){if(0===u.length){var e;let t=na(d);(null!==(e=null==r?void 0:r.key)&&void 0!==e?e:"")in t||o(d[0]);return}s(0),o(u[0].span)}},[d,u,o]),{matchData:{match:null!==(t=u[c])&&void 0!==t?t:null,totalMatches:u.length,currentMatchIndex:c},searchFilter:a.toLowerCase().trim(),setSearchFilter:l,filteredTreeNodes:d,handleNextSearchMatch:E,handlePreviousSearchMatch:p}},nc=e=>{let{node:t,spanTimeFormatter:n}=e,{theme:o}=(0,c.a)();return(0,w.FD)("div",{css:(0,r.AH)({display:"flex",alignItems:"center",flexDirection:"row",height:o.typography.lineHeightBase},""),children:[(0,w.Y)("span",{children:t.title}),(0,w.Y)(s.Tag,{componentId:"shared.model-trace-explorer.timeline-tree-title-time-pill",title:n(t.end-t.start),css:(0,r.AH)({margin:0,marginLeft:o.spacing.sm,padding:o.spacing.xs},""),children:(0,w.Y)("span",{css:(0,r.AH)({fontSize:11,lineHeight:"11px",color:o.colors.textSecondary},""),children:n(t.end-t.start)})})]})},ns=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?e.colors.actionTertiaryBackgroundPress:t?e.colors.actionTertiaryBackgroundHover:void 0},nd=e=>`${(e/1e6).toFixed(2)} s`,nu=(e,t)=>{var n;let r=null===(n=e.children)||void 0===n?void 0:n.map(e=>nu(e,t));return{...e,children:r,title:(0,w.Y)(nc,{node:e,spanTimeFormatter:t},e.key)}};var nE={name:"1jyk3dc",styles:"overflow:hidden;display:flex;flex-direction:column;flex:1"},np={name:"zjik7",styles:"display:flex"},nh={name:"d3v9zr",styles:"overflow:hidden"},nT={name:"pa47la",styles:"height:100%;overflow-y:auto;display:flex"};let ng=e=>{let{rootNodes:t,selectedNode:n,setSelectedNode:o,expandedKeys:a=[],setExpandedKeys:l,spanTimeFormatter:d=e=>`${(e/1e6).toFixed(2)} s`,treeHeader:u,className:E,showGantt:p=!0,onNodeClick:h}=e,{theme:T,getPrefixedClassName:g}=(0,c.a)(),m=g("tree-title"),f=g("tree"),_=g("tree-node-content-wrapper"),I=(0,i.useMemo)(()=>na(t),[t]),[A,v]=(0,i.useState)(200),[N,O]=(0,i.useState)(void 0),C=(0,i.useMemo)(()=>p?t:t.map(e=>nu(e,d)),[t,p,d]),R=(0,i.useMemo)(()=>nr(t),[t]),y=(0,i.useMemo)(()=>no(t,a),[t,a]),b=(e,t)=>Math.max(2,Math.min(t.max/1e3,Math.floor(e/100))),S=(0,i.useMemo)(()=>(0,w.Y)("div",{css:(0,r.AH)({flex:1,overflow:"auto",minHeight:"100%",height:"min-content",paddingBottom:3*T.spacing.lg,borderRight:p?`1px solid ${T.colors.border}`:void 0,boxSizing:"border-box",display:"flex",[`.${m}`]:{whiteSpace:"nowrap"},[`.${f}`]:{flex:"1 0 auto"},[`.${_} > span:first-child`]:{flexShrink:0},minWidth:100},""),children:(0,w.Y)(s.Tree,{showLine:{showLeafIcon:!1},selectedKeys:n?[n.key]:[],dangerouslySetAntdProps:{showIcon:!0,onMouseEnter:e=>{let{node:t}=e;return O(t)},onMouseLeave:()=>O(void 0)},mode:"selectable",treeData:C,expandedKeys:a,onExpand:l,onSelect:e=>{if(0===e.length)return;let t=I[e[0]];null==o||o(t),null==h||h(t)}})}),[p,T,m,f,_,n,C,a,l,I,o,h]);return(0,w.Y)("div",{css:(0,r.AH)({height:"100%",borderRadius:T.legacyBorders.borderRadiusMd,overflow:"hidden",display:"flex"},""),className:E,children:(0,w.FD)("div",{css:nE,children:[(0,w.FD)("div",{css:np,children:[(0,w.Y)("div",{css:(0,r.AH)({borderBottom:`1px solid ${T.colors.border}`,boxSizing:"border-box",marginTop:T.spacing.sm,paddingLeft:T.spacing.sm,height:24},""),style:{flex:p?`0 0 ${A}px`:1},children:(0,w.Y)(c.p.Title,{withoutMargins:!0,level:4,children:u})}),p&&(0,w.Y)("div",{css:(0,r.AH)({flex:1,boxSizing:"border-box",marginTop:T.spacing.sm},""),children:(0,w.Y)(tm,{start:R.min,end:R.max,numDividers:e=>b(e,R),paddingLeft:25,paddingRight:75,children:(0,w.Y)(tu,{css:(0,r.AH)({minHeight:24,maxHeight:24,boxSizing:"border-box",lineHeight:"24px"},""),children:(0,w.Y)(ts,{children:e=>e.map(e=>(0,w.Y)(tc,{css:nh,children:(0,w.Y)(s.LegacyTooltip,{title:nd(e),placement:"top",children:(0,w.Y)("span",{children:nd(e)})})},e))})})})})]}),(0,w.Y)("div",{css:nT,children:p?(0,w.Y)(t8,{paneWidth:A,setPaneWidth:v,initialRatio:.67,leftChild:S,leftMinWidth:100,rightChild:(0,w.Y)("div",{css:(0,r.AH)({flex:1,minWidth:200},""),"data-testid":"time-marker-area",children:(0,w.Y)(tm,{start:R.min,end:R.max,numDividers:e=>b(e,R),paddingLeft:25,paddingRight:75,children:(0,w.FD)(tn,{children:[y.map((e,t)=>(0,w.Y)(s.LegacyTooltip,{title:`${d(e.start)} - ${d(e.end)}`,placement:"right",dangerouslySetAntdProps:{visible:e.key===(null==N?void 0:N.key)},children:(0,w.Y)(tE,{top:t,height:24,css:(0,r.AH)({cursor:"pointer",backgroundColor:ns(T,e.key===(null==N?void 0:N.key),e===n)||"transparent","&:nth-of-type(2n+1)":{backgroundColor:ns(T,e.key===(null==N?void 0:N.key),e===n)||"transparent"}},""),onClick:()=>null==o?void 0:o(e),onMouseEnter:()=>O(e),onMouseLeave:()=>O(void 0),children:(0,w.Y)(ti,{id:e.key,start:e.start,end:e.end,css:(0,r.AH)({backgroundColor:T.colors.grey400},""),children:(0,w.Y)("div",{css:(0,r.AH)({lineHeight:T.typography.lineHeightSm,fontSize:T.typography.fontSizeSm,position:"absolute",left:"100%",marginLeft:T.spacing.xs,top:0,bottom:0,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},""),children:d(e.end-e.start)})})})},e.key)),(0,w.Y)(th,{})]})})}),rightMinWidth:200}):S})]})})},nm=e=>`${Math.max(Math.round(e/1e6*100)/100,.01).toFixed(2)}s`,nf=()=>window.innerWidth<=768?{ratio:.5,showGantt:!1}:window.innerWidth<=1280?{ratio:.33,showGantt:!1}:window.innerWidth<=1440?{ratio:.4,showGantt:!0}:{ratio:.33,showGantt:!0};var n_={name:"13ku56z",styles:"display:flex;flex-direction:column;height:100%"},nI={name:"82a6rk",styles:"flex:1"},nA={name:"9jwnf3",styles:"flex:1;overflow-y:auto"};let nv=e=>{let{modelTrace:t,className:n}=e,{ratio:o,showGantt:l}=nf(),d=(0,i.useRef)(null),u=(0,i.useMemo)(()=>(function(e){var t,n;let r=null!==(t=null===(n=e.trace_data)||void 0===n?void 0:n.spans)&&void 0!==t?t:e.data.spans,o={},a={};r.forEach(e=>{o[e.context.span_id]=e,a[e.context.span_id]=[]}),r.forEach(e=>{var t;let n=null!==(t=e.parent_span_id)&&void 0!==t?t:e.parent_id;if(!h()(n)){if(!a[n])throw Error("Tree structure is malformed!");a[n].push(e.context.span_id)}});let i=r.find(e=>{var t;return h()(null!==(t=e.parent_span_id)&&void 0!==t?t:e.parent_id)});return h()(i)?null:function e(t){var n,r,l,c;let s=o[t],d=Number(null!==(n=null==i?void 0:i.start_time)&&void 0!==n?n:0),u=Number(null!==(r=null==i?void 0:i.end_time)&&void 0!==r?r:0),E=a[t].map(e);if(void 0!==s.parent_id)return tL(s,d,u,E);let p=null!==(l=s.span_type)&&void 0!==l?l:tN.UNKNOWN;return{title:s.name,icon:(0,w.Y)(tR,{type:ty(p)}),type:p,key:s.context.span_id,start:Number(s.start_time)-d,end:Number(null!==(c=s.end_time)&&void 0!==c?c:u)-d,children:E,inputs:s.inputs,outputs:s.outputs,attributes:s.attributes}}(i.context.span_id)})(t),[t]),[p,T]=(0,i.useState)(500),[g,m]=(0,i.useState)(l),f=eJ(),_=eD(),I=(0,i.useCallback)(e=>eW(f,_,{eventType:"component_click",eventEntity:{entityType:"component",entitySubType:"div",entityId:`shared.model-trace-explorer.${e.type}-span-click`},eventPayload:{interactionSubject:!0}}),[f,_]),[A,v]=(0,i.useState)(null!=u?u:void 0),{matchData:N,searchFilter:O,setSearchFilter:C,filteredTreeNodes:R,handleNextSearchMatch:y,handlePreviousSearchMatch:b}=nl({treeNode:u,selectedNode:A,setSelectedNode:v}),{expandedKeys:S,setExpandedKeys:L}=ni({rootNodes:R,initialExpandAll:!0}),{theme:M}=(0,c.a)();(0,i.useLayoutEffect)(()=>{L(a()(na(R)).map(e=>e.key))},[R,L]);let P=g?300:280;return(0,w.FD)("div",{css:n_,className:n,children:[(0,w.Y)("div",{css:(0,r.AH)({padding:M.spacing.xs,borderBottom:`1px solid ${M.colors.border}`,borderTop:`1px solid ${M.colors.border}`},""),children:(0,w.Y)(ne,{searchFilter:O,setSearchFilter:C,matchData:N,handleNextSearchMatch:y,handlePreviousSearchMatch:b})}),(0,w.Y)(t8,{ref:d,initialRatio:o,paneWidth:p,setPaneWidth:T,leftChild:(0,w.Y)("div",{css:(0,r.AH)({display:"flex",flexDirection:"column",flex:1,minWidth:P},""),children:R.length>0?(0,w.Y)(ng,{rootNodes:R,selectedNode:A,setSelectedNode:v,spanTimeFormatter:nm,treeHeader:"Task name",css:nI,expandedKeys:S,setExpandedKeys:L,showGantt:g,onNodeClick:I}):(0,w.Y)("div",{css:(0,r.AH)({flex:1,display:"flex",justifyContent:"center",paddingTop:M.spacing.lg},""),children:(0,w.Y)(E.sA,{id:"4pXg9j",defaultMessage:"No results found. Try using a different search term."})})}),leftMinWidth:P,rightChild:(0,w.Y)(t5,{css:nA,activeSpan:A,searchFilter:O,activeMatch:N.match}),rightMinWidth:300}),(0,w.Y)("div",{css:(0,r.AH)({backgroundColor:M.colors.backgroundPrimary,position:"absolute",bottom:0,left:0,margin:M.spacing.md,zIndex:2},""),children:(0,w.Y)(c.B,{componentId:`shared.model-trace-explorer.${g?"hide":"show"}-timeline`,icon:g?(0,w.Y)(s.VisibleOffIcon,{}):(0,w.Y)(s.VisibleIcon,{}),onClick:()=>{let e=!g;if(m(e),e){var t;let e=Math.max(p,480);T(e),null===(t=d.current)||void 0===t||t.updateRatio(e)}},children:g?(0,w.Y)(E.sA,{id:"jb5ssj",defaultMessage:"Hide timeline"}):(0,w.Y)(E.sA,{id:"KYMoeQ",defaultMessage:"Show timeline"})})})]})};nv.Skeleton=e=>{let{label:t}=e,{theme:n}=(0,c.a)();return(0,w.FD)("div",{css:nt,children:[(0,w.FD)("div",{css:nn,children:[(0,w.Y)("div",{css:(0,r.AH)({padding:n.spacing.sm,borderBottom:`1px solid ${n.colors.border}`},""),children:(0,w.Y)(s.TitleSkeleton,{label:t})}),(0,w.FD)("div",{css:(0,r.AH)({borderRadius:n.legacyBorders.borderRadiusMd,overflow:"hidden",display:"flex"},""),children:[(0,w.Y)("div",{css:(0,r.AH)({flex:1,padding:n.spacing.sm,borderRight:`1px solid ${n.colors.border}`},""),children:(0,w.Y)(s.TableSkeleton,{lines:5})}),(0,w.Y)("div",{css:(0,r.AH)({flex:2,padding:n.spacing.sm},""),children:(0,w.Y)(s.TableSkeleton,{lines:5})})]})]}),(0,w.Y)("div",{css:(0,r.AH)({padding:n.spacing.md,overflowY:"auto",flex:1},""),children:(0,w.Y)(s.TableSkeleton,{lines:12})})]})};var nN={2:{path:"/static/lib/ml-model-trace-renderer/2/index.html",commit:"f8e22775fa5cc11668abca18fff28913749da18e"},current:{path:"/static/lib/ml-model-trace-renderer/index.html"}};let nO=e=>{var t,n,r;return tP(null==e||null===(t=e.info)||void 0===t?void 0:t.request_metadata)||(null!==(n=tP(null==e||null===(r=e.info)||void 0===r?void 0:r.tags))&&void 0!==n?n:"2")};var nC={name:"15hjh5z",styles:"border:none;width:100%;height:calc(100% - 36px)"};let nR=e=>{var t,n;let{modelTrace:o,height:a=700,useLatestVersion:s=!1}=e,d=(0,i.useRef)(null),[u,E]=l().useState(!0),p=null!==(t=null===(n=nN[s?"current":nO(o)])||void 0===n?void 0:n.path)&&void 0!==t?t:nN["2"].path,h=eJ(),T=eD(),{startInteraction:g}=function(){let{esComponent:e,errorBoundaryId:t}=eI(),{mergeTags:n}=eQ(),r=(0,i.useContext)(eZ);return(0,i.useMemo)(()=>({...r,startInteraction:(o,a,i,l)=>{let c=n({errorBoundaryId:t},{...l,esComponent:e});return r.startInteraction(o,a,i,c)}}),[e,r,n,t])}(),{theme:m}=(0,c.a)(),f=eV({recordEvent:h,recordProto:T,startInteraction:g});return(0,i.useEffect)(()=>{let e=e=>{var t;let n=null===(t=d.current)||void 0===t?void 0:t.contentWindow;if(n&&e.source===n)switch(e.data.type){case nM.Ready:E(!1);break;case nM.LogError:{let{error:t}=e.data||{};eN.A.sev2(ef.E.MlExperiments,"ModelTraceExplorerFrameRenderer/Error",t);break}case nM.LogEvent:{let t=e.data.payload.eventDefaultPrevented;f({...e.data.payload,skip:t})}}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[f]),(0,i.useEffect)(()=>{var e;let t=null===(e=d.current)||void 0===e?void 0:e.contentWindow;t&&!u&&t.postMessage({type:nP.UpdateTrace,traceData:o})},[o,u]),(0,w.FD)("div",{css:(0,r.AH)({height:a,borderTop:`1px solid ${m.colors.border}`},""),children:[(0,w.Y)("div",{css:(0,r.AH)({display:"flex",padding:m.spacing.sm},""),children:(0,w.Y)(t_,{parentUi:ef.E.MlFlowOSS,origin:"mlflow-notebook-trace-ui"})}),u&&(0,w.Y)("div",{css:(0,r.AH)({position:"absolute",width:"100%",height:a},""),children:(0,w.Y)(nv.Skeleton,{label:"Frame Skeleton"})}),(0,w.Y)("iframe",{title:"Model Trace Explorer",src:p,ref:d,css:nC})]})},ny=(0,i.createContext)({onSelectRow:()=>{}}),nb=()=>(0,i.useContext)(ny),nS=e=>{if(h()(e))return null;if(tx(e))return e;try{var t;let n=null===(t=e.spans)||void 0===t?void 0:t.map(e=>({...e,attributes:JSON.parse(e.attributes)}));if(h()(n))return null;return{data:{spans:n},info:{}}}catch(e){return null}},nL=e=>{let{children:t}=e,[n,o]=(0,i.useState)(null),a=nS(n),{theme:l}=(0,c.a)();return(0,w.FD)(ny.Provider,{value:{onSelectRow:o},children:[t,!h()(a)&&(0,w.Y)("div",{css:(0,r.AH)({borderTop:`1px solid ${l.colors.border}`},""),children:(0,w.Y)(nR,{modelTrace:a})})]})},nM=function(e){return e.Ready="READY",e.LogError="LOG_ERROR",e.LogEvent="LOG_EVENT",e}({}),nP=function(e){return e.UpdateTrace="UPDATE_TRACE",e}({})}}]);
//# sourceMappingURL=https://sourcemaps.dev.databricks.com/ml-model-trace-renderer/js/743.d9bbbd21.chunk.js.map