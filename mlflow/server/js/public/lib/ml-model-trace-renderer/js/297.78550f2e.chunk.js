"use strict";(self.webpackChunkdatabricks_mlModelTraceRenderer=self.webpackChunkdatabricks_mlModelTraceRenderer||[]).push([[297],{18297:(e,r,t)=>{t.r(r),t.d(r,{default:()=>v});var n=t(98358),o=t(25656),a=t(40760);function l(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e,r,t,n){Object.defineProperty(e,r,{get:t,set:n,enumerable:!0,configurable:!0})}s({},"ErrorBoundary",()=>u),s({},"ErrorBoundaryContext",()=>i);let i=(0,a.createContext)(null),d={didCatch:!1,error:null};class u extends a.Component{static getDerivedStateFromError(e){return{didCatch:!0,error:e}}componentDidCatch(e,r){var t,n;null==(t=(n=this.props).onError)||t.call(n,e,r)}componentDidUpdate(e,r){let{didCatch:t}=this.state,{resetKeys:n}=this.props;if(t&&null!==r.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==r.length||e.some((e,t)=>!Object.is(e,r[t]))}(e.resetKeys,n)){var o,a;null==(o=(a=this.props).onReset)||o.call(a,{next:n,prev:e.resetKeys,reason:"keys"}),this.setState(d)}}render(){let{children:e,fallbackRender:r,FallbackComponent:t,fallback:n}=this.props,{didCatch:o,error:l}=this.state,s=e;if(o){let e={error:l,resetErrorBoundary:this.resetErrorBoundary};if((0,a.isValidElement)(n))s=n;else if("function"==typeof r)s=r(e);else if(t)s=(0,a.createElement)(t,e);else throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return(0,a.createElement)(i.Provider,{value:{didCatch:o,error:l,resetErrorBoundary:this.resetErrorBoundary}},s)}constructor(...e){var r;super(...e),r=this,l(this,"state",d),l(this,"resetErrorBoundary",function(){for(var e,t,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];let{error:l}=r.state;null!==l&&(null==(e=(t=r.props).onReset)||e.call(t,{args:o,reason:"imperative-api"}),r.setState(d))})}}function c(){let e=(0,a.useContext)(i);var r=e;if(null==r||"boolean"!=typeof r.didCatch||"function"!=typeof r.resetErrorBoundary)throw Error("ErrorBoundaryContext not found");let[t,n]=(0,a.useState)({error:null,hasError:!1}),o=(0,a.useMemo)(()=>({resetBoundary:()=>{null==e||e.resetErrorBoundary(),n({error:null,hasError:!1})},showBoundary:e=>n({error:e,hasError:!0})}),[null==e?void 0:e.resetErrorBoundary]);if(t.hasError)throw t.error;return o}function p(e,r){let t=t=>(0,a.createElement)(u,r,(0,a.createElement)(e,t)),n=e.displayName||e.name||"Unknown";return t.displayName=`withErrorBoundary(${n})`,t}s({},"useErrorBoundary",()=>c),s({},"withErrorBoundary",()=>p);var h=t(24037),E=t(90089),f=t(63147);let y=e=>{let{error:r}=e;return(0,n.Y)(h.S,{description:r instanceof Error?r.message:"An unexpected error has occurred. Please wait a bit and refresh the page or contact support.",title:"Error",image:(0,n.Y)(E.A,{})})},v=e=>{let{children:r}=e;return(0,a.useEffect)(()=>{let e=e=>{let r=e instanceof PromiseRejectionEvent,t=r?e.reason:e.error;if(!t||(null==t?void 0:t._isErrorHandled))return;(0,o.isObjectLike)(t)&&(t._isErrorHandled=!0),window.parent.postMessage({type:"LOG_ERROR",error:t,isPromiseRejection:r})};return window.addEventListener("error",e),window.addEventListener("unhandledrejection",e),()=>{window.removeEventListener("error",e),window.removeEventListener("unhandledrejection",e)}},[]),(0,n.Y)(f.zI,{callback:e=>{var r;window.parent.postMessage({type:"LOG_EVENT",payload:{eventType:e.eventType,componentType:e.componentType,componentId:e.componentId,value:e.value,shouldStartInteraction:e.shouldStartInteraction,eventDefaultPrevented:null==(r=e.event)?void 0:r.defaultPrevented}})},children:(0,n.Y)(u,{onError:e=>{window.parent.postMessage({type:"LOG_ERROR",error:e})},fallbackRender:y,children:r})})}}}]);
//# sourceMappingURL=https://sourcemaps.dev.databricks.com/ml-model-trace-renderer/js/297.78550f2e.chunk.js.map